Jan 28 20:46:21 centos8 filebeat[86936]: 2022-01-28T20:46:21.010+0900#011INFO#011[monitoring]#011log/log.go:184#011Non-zero metrics in the last 30s#011{"monitoring": {"metrics": {"beat":{"cgroup":{"memory":{"mem":{"usage":{"bytes":4096}}}},"cpu":{"system":{"ticks":1030,"time":{"ms":11}},"total":{"ticks":1520,"time":{"ms":16},"value":1520},"user":{"ticks":490,"time":{"ms":5}}},"handles":{"limit":{"hard":262144,"soft":1024},"open":13},"info":{"ephemeral_id":"7f6ac5b5-460a-4c5b-bd08-5a513adce27f","uptime":{"ms":1590063},"version":"7.16.3"},"memstats":{"gc_next":19240368,"memory_alloc":12239008,"memory_total":115067920,"rss":122458112},"runtime":{"goroutines":33}},"filebeat":{"events":{"added":1,"done":1},"harvester":{"closed":1,"open_files":0,"running":0}},"libbeat":{"config":{"module":{"running":0},"scans":3},"output":{"events":{"active":0}},"pipeline":{"clients":1,"events":{"active":0,"filtered":1,"total":1}}},"registrar":{"states":{"current":1,"update":1},"writes":{"success":1,"total":1}},"system":{"load":{"1":0.23,"15":0.35,"5":0.24,"norm":{"1":0.0575,"15":0.0875,"5":0.06}}}}}}
Jan 28 20:46:21 centos8 filebeat[86936]: 2022-01-28T20:46:21.231+0900#011INFO#011[input.harvester]#011log/harvester.go:309#011Harvester started for file.#011{"input_id": "9d1e0525-4cb4-4108-87ec-c386e5af679b", "source": "/root/ls-test/weblog.txt", "state_id": "native::69636259-64768", "finished": false, "os_id": "69636259-64768", "harvester_id": "cd5912d7-61f6-4e55-b588-eb87b06cee1d"}
Jan 28 20:46:22 centos8 filebeat[86936]: 2022-01-28T20:46:22.236+0900#011ERROR#011[logstash]#011logstash/async.go:280#011Failed to publish events caused by: write tcp 127.0.0.1:38164->127.0.0.1:11000: write: connection reset by peer
Jan 28 20:46:22 centos8 filebeat[86936]: 2022-01-28T20:46:22.236+0900#011INFO#011[publisher]#011pipeline/retry.go:219#011retryer: send unwait signal to consumer
Jan 28 20:46:22 centos8 filebeat[86936]: 2022-01-28T20:46:22.236+0900#011INFO#011[publisher]#011pipeline/retry.go:223#011  done
Jan 28 20:46:23 centos8 filebeat[86936]: 2022-01-28T20:46:23.759+0900#011ERROR#011[publisher_pipeline_output]#011pipeline/output.go:180#011failed to publish events: write tcp 127.0.0.1:38164->127.0.0.1:11000: write: connection reset by peer
Jan 28 20:46:23 centos8 filebeat[86936]: 2022-01-28T20:46:23.759+0900#011INFO#011[publisher_pipeline_output]#011pipeline/output.go:143#011Connecting to backoff(async(tcp://localhost:11000))
Jan 28 20:46:23 centos8 filebeat[86936]: 2022-01-28T20:46:23.759+0900#011INFO#011[publisher]#011pipeline/retry.go:219#011retryer: send unwait signal to consumer
Jan 28 20:46:23 centos8 filebeat[86936]: 2022-01-28T20:46:23.760+0900#011INFO#011[publisher]#011pipeline/retry.go:223#011  done
Jan 28 20:46:23 centos8 filebeat[86936]: 2022-01-28T20:46:23.760+0900#011INFO#011[publisher_pipeline_output]#011pipeline/output.go:151#011Connection to backoff(async(tcp://localhost:11000)) established

Jan 28 20:46:23 centos8 logstash[81143]: {
Jan 28 20:46:23 centos8 logstash[81143]:       "referrer" => "\"http://dwww/status.html\"",
Jan 28 20:46:23 centos8 logstash[81143]:        "message" => "218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \"GET /index.html HTTP/1.1\" 503 299 \"http://dwww/status.html\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\"",
Jan 28 20:46:23 centos8 logstash[81143]:           "auth" => "-",
Jan 28 20:46:23 centos8 logstash[81143]:           "verb" => "GET",
Jan 28 20:46:23 centos8 logstash[81143]:       "response" => "503",
Jan 28 20:46:23 centos8 logstash[81143]:          "bytes" => 299,
Jan 28 20:46:23 centos8 logstash[81143]:          "geoip" => {
Jan 28 20:46:23 centos8 logstash[81143]:             "city_name" => "Seoul",
Jan 28 20:46:23 centos8 logstash[81143]:           "region_code" => "11",
Jan 28 20:46:23 centos8 logstash[81143]:             "longitude" => 126.9754,
Jan 28 20:46:23 centos8 logstash[81143]:              "latitude" => 37.5794,
Jan 28 20:46:23 centos8 logstash[81143]:         "country_code2" => "KR",
Jan 28 20:46:23 centos8 logstash[81143]:           "postal_code" => "04524",
Jan 28 20:46:23 centos8 logstash[81143]:          "country_name" => "South Korea",
Jan 28 20:46:23 centos8 logstash[81143]:              "location" => {
Jan 28 20:46:23 centos8 logstash[81143]:            "lon" => 126.9754,
Jan 28 20:46:23 centos8 logstash[81143]:            "lat" => 37.5794
Jan 28 20:46:23 centos8 logstash[81143]:        },
Jan 28 20:46:23 centos8 logstash[81143]:              "timezone" => "Asia/Seoul",
Jan 28 20:46:23 centos8 logstash[81143]:         "country_code3" => "KR",
Jan 28 20:46:23 centos8 logstash[81143]:           "region_name" => "Seoul",
Jan 28 20:46:23 centos8 logstash[81143]:        "continent_code" => "AS",
Jan 28 20:46:23 centos8 logstash[81143]:                    "ip" => "218.39.220.90"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:            "ecs" => {
Jan 28 20:46:23 centos8 logstash[81143]:        "version" => "1.12.0"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:     "@timestamp" => 2022-01-09T08:52:49.000Z,
Jan 28 20:46:23 centos8 logstash[81143]:          "ident" => "-",
Jan 28 20:46:23 centos8 logstash[81143]:        "request" => "/index.html",
Jan 28 20:46:23 centos8 logstash[81143]:          "input" => {
Jan 28 20:46:23 centos8 logstash[81143]:        "type" => "log"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:    "httpversion" => "1.1",
Jan 28 20:46:23 centos8 logstash[81143]:            "log" => {
Jan 28 20:46:23 centos8 logstash[81143]:          "file" => {
Jan 28 20:46:23 centos8 logstash[81143]:            "path" => "/root/ls-test/weblog.txt"
Jan 28 20:46:23 centos8 logstash[81143]:        },
Jan 28 20:46:23 centos8 logstash[81143]:        "offset" => 0
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:           "tags" => [
Jan 28 20:46:23 centos8 logstash[81143]:        [0] "beats_input_codec_plain_applied"
Jan 28 20:46:23 centos8 logstash[81143]:    ],
Jan 28 20:46:23 centos8 logstash[81143]:      "useragent" => {
Jan 28 20:46:23 centos8 logstash[81143]:             "minor" => "0",
Jan 28 20:46:23 centos8 logstash[81143]:             "patch" => "4692",
Jan 28 20:46:23 centos8 logstash[81143]:        "os_version" => "10",
Jan 28 20:46:23 centos8 logstash[81143]:            "device" => "Other",
Jan 28 20:46:23 centos8 logstash[81143]:           "os_full" => "Windows 10",
Jan 28 20:46:23 centos8 logstash[81143]:                "os" => "Windows",
Jan 28 20:46:23 centos8 logstash[81143]:             "major" => "97",
Jan 28 20:46:23 centos8 logstash[81143]:           "os_name" => "Windows",
Jan 28 20:46:23 centos8 logstash[81143]:              "name" => "Chrome",
Jan 28 20:46:23 centos8 logstash[81143]:           "version" => "97.0.4692.71",
Jan 28 20:46:23 centos8 logstash[81143]:          "os_major" => "10"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:       "clientip" => "218.39.220.90"
Jan 28 20:46:23 centos8 logstash[81143]: }
Jan 28 20:46:23 centos8 logstash[81143]: {
Jan 28 20:46:23 centos8 logstash[81143]:       "referrer" => "\"http://dwww/status.html\"",
Jan 28 20:46:23 centos8 logstash[81143]:        "message" => "218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \"GET /index.html HTTP/1.1\" 503 299 \"http://dwww/status.html\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\"",
Jan 28 20:46:23 centos8 logstash[81143]:           "auth" => "-",
Jan 28 20:46:23 centos8 logstash[81143]:           "verb" => "GET",
Jan 28 20:46:23 centos8 logstash[81143]:       "response" => "503",
Jan 28 20:46:23 centos8 logstash[81143]:          "bytes" => 299,
Jan 28 20:46:23 centos8 logstash[81143]:          "geoip" => {
Jan 28 20:46:23 centos8 logstash[81143]:             "city_name" => "Seoul",
Jan 28 20:46:23 centos8 logstash[81143]:           "region_code" => "11",
Jan 28 20:46:23 centos8 logstash[81143]:             "longitude" => 126.9754,
Jan 28 20:46:23 centos8 logstash[81143]:              "latitude" => 37.5794,
Jan 28 20:46:23 centos8 logstash[81143]:         "country_code2" => "KR",
Jan 28 20:46:23 centos8 logstash[81143]:           "postal_code" => "04524",
Jan 28 20:46:23 centos8 logstash[81143]:          "country_name" => "South Korea",
Jan 28 20:46:23 centos8 logstash[81143]:              "location" => {
Jan 28 20:46:23 centos8 logstash[81143]:            "lon" => 126.9754,
Jan 28 20:46:23 centos8 logstash[81143]:            "lat" => 37.5794
Jan 28 20:46:23 centos8 logstash[81143]:        },
Jan 28 20:46:23 centos8 logstash[81143]:              "timezone" => "Asia/Seoul",
Jan 28 20:46:23 centos8 logstash[81143]:         "country_code3" => "KR",
Jan 28 20:46:23 centos8 logstash[81143]:           "region_name" => "Seoul",
Jan 28 20:46:23 centos8 logstash[81143]:        "continent_code" => "AS",
Jan 28 20:46:23 centos8 logstash[81143]:                    "ip" => "218.39.220.90"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:            "ecs" => {
Jan 28 20:46:23 centos8 logstash[81143]:        "version" => "1.12.0"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:     "@timestamp" => 2022-01-09T08:52:49.000Z,
Jan 28 20:46:23 centos8 logstash[81143]:          "ident" => "-",
Jan 28 20:46:23 centos8 logstash[81143]:        "request" => "/index.html",
Jan 28 20:46:23 centos8 logstash[81143]:          "input" => {
Jan 28 20:46:23 centos8 logstash[81143]:        "type" => "log"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:    "httpversion" => "1.1",
Jan 28 20:46:23 centos8 logstash[81143]:            "log" => {
Jan 28 20:46:23 centos8 logstash[81143]:          "file" => {
Jan 28 20:46:23 centos8 logstash[81143]:            "path" => "/root/ls-test/weblog.txt"
Jan 28 20:46:23 centos8 logstash[81143]:        },
Jan 28 20:46:23 centos8 logstash[81143]:        "offset" => 0
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:           "tags" => [
Jan 28 20:46:23 centos8 logstash[81143]:        [0] "beats_input_codec_plain_applied"
Jan 28 20:46:23 centos8 logstash[81143]:    ],
Jan 28 20:46:23 centos8 logstash[81143]:      "useragent" => {
Jan 28 20:46:23 centos8 logstash[81143]:             "minor" => "0",
Jan 28 20:46:23 centos8 logstash[81143]:             "patch" => "4692",
Jan 28 20:46:23 centos8 logstash[81143]:        "os_version" => "10",
Jan 28 20:46:23 centos8 logstash[81143]:            "device" => "Other",
Jan 28 20:46:23 centos8 logstash[81143]:           "os_full" => "Windows 10",
Jan 28 20:46:23 centos8 logstash[81143]:                "os" => "Windows",
Jan 28 20:46:23 centos8 logstash[81143]:             "major" => "97",
Jan 28 20:46:23 centos8 logstash[81143]:           "os_name" => "Windows",
Jan 28 20:46:23 centos8 logstash[81143]:              "name" => "Chrome",
Jan 28 20:46:23 centos8 logstash[81143]:           "version" => "97.0.4692.71",
Jan 28 20:46:23 centos8 logstash[81143]:          "os_major" => "10"
Jan 28 20:46:23 centos8 logstash[81143]:    },
Jan 28 20:46:23 centos8 logstash[81143]:       "clientip" => "218.39.220.90"
Jan 28 20:46:23 centos8 logstash[81143]: }
