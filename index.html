<!DOCTYPE html>
<html lang="ko-kr">
<head>
	<meta name="generator" content="Hugo 0.121.1">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MEMO</title>
  <meta name="author" content="lislroow@daum.net">
  <meta name="description" content="KIM MYEONGGU&#39;s MEMO site">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/highlight/prism.css">
  <script src="/highlight/prism.js"></script>
</head>
<body>
  <header>
  <div class="navbar">
    <a href="https://lislroow.github.io/">MEMO</a>
    
    
      
      <div class="dropdown">
        <button class="dropbtn">&#43; archive</button>
        <div class="dropdown-content">
        
          <a href="/archive/apache/">apache</a>
        
          <a href="/archive/nginx/">nginx</a>
        
          <a href="/archive/oracle19c/">oracle19c</a>
        
          <a href="/archive/others/">others</a>
        
        </div>
      </div>
      
    
      
      <div class="dropdown">
        <button class="dropbtn">&#43; shell</button>
        <div class="dropdown-content">
        
          <a href="/shell/bash/">bash</a>
        
          <a href="/shell/docker/">docker</a>
        
        </div>
      </div>
      
    
    
    
    <a href="#" id="toggleTocButton" style="margin-left: auto;">+</a>
    <script>
    document.getElementById('toggleTocButton').addEventListener('click', function() {
      document.querySelector('.aside').classList.toggle('hidden');
    });
    </script>
  </div>
</header>

  
<main class="container">
  <div class="main-content">
    <div class="content">
      <article>
        <h1></h1>
        <div>
          <h3 id="-curl">* <code>curl</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -X <span style="color:#e6db74">&#39;POST&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  http://localhost:8080/v2/file/upload <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#39;Content-Type: multipart-form-data&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -F <span style="color:#e6db74">&#39;file1=@photo.jpg&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -F <span style="color:#e6db74">&#39;name1=홍길동&#39;</span>
</span></span></code></pre></div><h3 id="-systemctl">* <code>systemctl</code></h3>
<h4 id="1-unit">1) [Unit]</h4>
<ul>
<li><code>Before=</code>, <code>After=</code> unit 시작의 전후 관계에 대한 옵션이며, Requires= 옵션과는 독립적입니다. Before= 에 나열된 unit 이 시작되기 전에 해당 unit 이 실행됩니다.</li>
<li><code>Requires=</code> 상위 unit(의존성)을 설정합니다.</li>
<li><code>RequiresOverridable=</code> Requires= 옵션과 유사하며, 사용자에 의해서 실행할 경우 상위 unit 이 실패 하더라도 무시하고 시작합니다.</li>
<li><code>Requisite=</code> RequiresOverridable= 옵션과 유사하며, 상위 unit 시작되지 않은 경우 즉시 실패를 반환합니다.</li>
<li><code>Wants=</code> Requires= 옵션에 비해 완화된 옵션입니다. 상위 unit 이 시작되지 않더라도 실행에 영향을 끼치지 않습니다.</li>
<li><code>BindsTo</code> Requires= 옵션과 유사하며, systemd 개입없이 갑자기 서비스가 사라진 경우 해당 unit 도 같이 중지하도록 설정합니다.</li>
<li><code>PartOf=</code> Requires= 옵션과 유사하며, 상위 unit 을 stop/start 할 경우 해당 unit 을 stop/start 를 수행합니다.</li>
<li><code>Conflicts=</code> 역의 관계를 구성합니다. e.g) unit1, unit2 가 있고 unit1 에 Conflicts=unit2 설정이 있을 경우, unit1 이 start 되면 unit-2 는 stop 이 됩니다.</li>
<li><code>OnFailure=</code> 해당 unit 이 failure 가 되면 수행할 unit 목록을 설정합니다.</li>
</ul>
<h4 id="2-service">2) [Service]</h4>
<ul>
<li>Type=[<code>simple</code>|<code>forking</code>|oneshot|notify|dbus]
<ul>
<li><code>simple</code>: Type 의 기본값이며, unit 이 start 되면 systemd 는 완료되었다고 판단합니다. 다른 unit 과 통신을 하는 경우에는 적합하지 않습니다.</li>
<li><code>forking</code>: 해당 unit 이 자식 프로세스 생성을 완료하는 단계에 systemd 가 완료되었다고 판단합니다. parent 프로세스를 추적할 수 있도록 PIDFile= 필드에 pid 파일 경로를 선언해야 합니다.</li>
<li>oneshot: simple 과 유사하며, RemainAfterExit=yes 옵션을 통해 unit 이 활성화 상태로 설정할 수 있습니다.</li>
<li>notify: simple 과 유사하며, unit 이 start 완료가되면 systemd 에 signal 을 보내고 완료를 판단합니다.</li>
<li>dbus: DBUS 에 지정된 BusName 이 준비될 때까지 대기합니다. DBUS 준비가 완료된 이후 unit 이 start 되었다고 간주합니다.</li>
</ul>
</li>
<li><code>RemainAfterExit=[yes|no]</code>: yes 일 경우, start 된 unit 이 종료된 이후에도 활성화 상태를 판단합니다.</li>
<li><code>PIDFile=</code>: PID 파일을 지정합니다. Type=forking 일 경우 pid 파일의 절대 경로를 추가해야 합니다.</li>
<li><code>Environment=</code>: 해당 unit 에서 사용할 환경변수를 선언합니다. <code>반드시 Exec*=</code> 옵션보다 위에 선언해야 합니다.</li>
<li><code>EnvironmentFile=</code>: 환경변수가 정의된 파일경로를 선언합니다. 환경변수 파일의 주석은 <code>#</code>, <code>;</code> 입니다. Environment= 보다 우선순위가 낮습니다.</li>
<li><code>ExecStart=</code>: start 명령어를 선언합니다. 여러 명령어를 <code>;</code>으로 등록할 수 있습니다. <code>ExecStart=&quot;cmd 1; cmd 2&quot;</code></li>
<li><code>ExecStop=</code>: stop 명령어를 선언합니다.</li>
<li><code>WatchdogSec=</code>: unit 이 start 된 이후 상태를 체크를 할 때 반환하는 시간을 설정합니다. Restart= 옵션과 관련이 있으며 Restart=[on-failure|always] 설정으로 unit 을 자동으로 restart 할 때 WatchdogSec= 옵션이 필요합니다. 기본값은 0으로 unit 상태를 체크하지 않습니다.</li>
<li>Restart=[no|on-success|on-failure|on-watchdog|on-abort|always]: unit 이 dead 상태이거나 WatchdogSec= 시간동안 응답이 없는 경우 restart 를 합니다. 기본값은 no 이며, unit 를 restart 하지 않습니다.</li>
<li><code>User=</code>, <code>Group=</code>: unit 실행에 사용할 user, group 을 설정합니다.</li>
<li><code>RootDirectoryStartOnly=[yes|no]</code>: 프로세스 실행 시 &ldquo;/&rdquo; 디렉토리를 설정합니다. <code>chroot</code> 함수를 사용하며 start 합니다.</li>
<li><code>RootDirectory=</code>: chroot 함수로 변경할 &ldquo;/&rdquo; 디렉토리를 설정합니다.</li>
<li><code>WorkingDirectory=</code>: 특정 디렉토리에서 start 해야 하는 unit 에서 사용할 수 있습니다.</li>
<li><code>StartLimitInterval=</code>, <code>StartLimitBurst=</code>: 해당 unit 에 과도한 restart 가 발생하지 않도록 합니다. 기본값은 10초 간격으로 5번까지 start 를 하도록 허용합니다.</li>
<li><code>UMask=</code>: umask 값을 선언합니다. 기본값은 0022 입니다.</li>
</ul>
<h4 id="3-install">3) [Install]</h4>
<ul>
<li><code>WantedBy=</code>, <code>RequiredBy=</code>: systemctl enable 명령으로 unit 을 등록할 때 필요한 unit 을 설정합니다.</li>
</ul>
<h4 id="4-service-unit-등록">4) service unit 등록</h4>
<ul>
<li><code>/etc/systemd/system/</code> 디렉토리에 service 파일 추가</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>LIST<span style="color:#f92672">=(</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&lt;&lt;- EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">smpl
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">)</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>read -r list <span style="color:#f92672">&lt;&lt;&lt;</span> <span style="color:#e6db74">${</span>LIST[*]<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>idx<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> item in <span style="color:#e6db74">${</span>list[*]<span style="color:#e6db74">}</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#userid=${item%:*}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#instance=${item##*:}</span>
</span></span><span style="display:flex;"><span>  userid<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>item<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>  instance<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>item<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -e <span style="color:#e6db74">&#34;/home/</span><span style="color:#e6db74">${</span>userid<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>  cat <span style="color:#e6db74">&lt;&lt;- EOF &gt; /etc/systemd/system/${instance}.service
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=${instance} service
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target syslog.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=forking
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">User=${userid}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Group=wasadm
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/engn/servers/${instance}/start-${instance}.sh
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStop=/engn/servers/${instance}/stop-${instance}.sh
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Restart=no
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>  systemctl enable <span style="color:#e6db74">${</span>instance<span style="color:#e6db74">}</span>.service
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><h4 id="5-service-unit-enableddisabled-확인">5) service unit enabled/disabled 확인</h4>
<ul>
<li><code>systemctl -t service list-units</code></li>
<li><code>systemctl -t service list-unit-files</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ systemctl enable smpl.service
</span></span><span style="display:flex;"><span>$ systemctl -t service list-unit-files | grep smpl
</span></span><span style="display:flex;"><span>smpl.service                               enabled 
</span></span><span style="display:flex;"><span>$ systemctl disable smpl.service
</span></span><span style="display:flex;"><span>$ systemctl -t service list-unit-files | grep smpl
</span></span><span style="display:flex;"><span>smpl.service                               disabled
</span></span></code></pre></div><h3 id="-xmllint">* <code>xmllint</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span># https://repo1.maven.org/maven2/javax/servlet/servlet-api/maven-metadata.xml
</span></span><span style="display:flex;"><span>XML_TEXT=$(cat <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#f92672">&lt;-</span> <span style="color:#960050;background-color:#1e0010">EOF</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;?xml</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;1.0&#34;</span> <span style="color:#a6e22e">encoding=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span><span style="color:#960050;background-color:#1e0010">?</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;metadata</span> <span style="color:#a6e22e">modelVersion=</span><span style="color:#e6db74">&#34;1.1.0&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;artifactId&gt;</span>servlet-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;versioning&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;latest&gt;</span>3.0-alpha-1<span style="color:#f92672">&lt;/latest&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;release&gt;</span>3.0-alpha-1<span style="color:#f92672">&lt;/release&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;versions&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>2.2<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>2.3<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>2.4<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>2.4.public_draft<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>2.4-20040521<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>2.5<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>3.0-alpha-1<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/versions&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;lastUpdated&gt;</span>20111024063317<span style="color:#f92672">&lt;/lastUpdated&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/versioning&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/metadata&gt;</span>
</span></span><span style="display:flex;"><span>EOF
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><h4 id="--text">- text()</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;/metadata/groupId&#34;</span> -
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>&lt;groupId&gt;javax.servlet&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;/metadata/groupId/text()&#34;</span> -
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>javax.servlet
</span></span></code></pre></div><h4 id="--count">- count()</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;count(//versions/version)&#34;</span> -
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span>
</span></span></code></pre></div><h4 id="--last">- last()</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;//versions/version[last()]&#34;</span> -
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>&lt;version&gt;3.0-alpha-1&lt;/version&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;//versions/version[last()]/text()&#34;</span> -
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>3.0-alpha-1
</span></span></code></pre></div><h4 id="--for-loop">- for-loop</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cnt<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;count(//versions/version)&#34;</span> -<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#f92672">((</span>i<span style="color:#f92672">=</span>1; i&lt;<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>cnt<span style="color:#e6db74">}</span>; i++<span style="color:#f92672">))</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">${</span>XML_TEXT<span style="color:#e6db74">}</span> | xmllint --xpath <span style="color:#e6db74">&#34;//versions/version[</span>$i<span style="color:#e6db74">]/text()&#34;</span> -
</span></span><span style="display:flex;"><span>  printf <span style="color:#e6db74">$&#39;\n&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>2.2
</span></span><span style="display:flex;"><span>2.3
</span></span><span style="display:flex;"><span>2.4
</span></span><span style="display:flex;"><span>2.4.public_draft
</span></span><span style="display:flex;"><span>2.4-20040521
</span></span><span style="display:flex;"><span>2.5
</span></span><span style="display:flex;"><span>3.0-alpha-1
</span></span></code></pre></div><h3 id="-yum">* <code>yum</code></h3>
<h4 id="--yum-provides">- yum provides</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum provides xmllint
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>Last metadata expiration check: 2:56:27 ago on Sun Dec <span style="color:#ae81ff">24</span> 11:57:55 2023.
</span></span><span style="display:flex;"><span>libxml2-2.9.7-16.el8_8.1.i686 : Library providing XML and HTML support
</span></span><span style="display:flex;"><span>Repo        : baseos
</span></span><span style="display:flex;"><span>Matched from:
</span></span><span style="display:flex;"><span>Filename    : /usr/bin/xmllint
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>libxml2-2.9.7-16.el8_8.1.x86_64 : Library providing XML and HTML support
</span></span><span style="display:flex;"><span>Repo        : @System
</span></span><span style="display:flex;"><span>Matched from:
</span></span><span style="display:flex;"><span>Filename    : /usr/bin/xmllint
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>libxml2-2.9.7-16.el8_8.1.x86_64 : Library providing XML and HTML support
</span></span><span style="display:flex;"><span>Repo        : baseos
</span></span><span style="display:flex;"><span>Matched from:
</span></span><span style="display:flex;"><span>Filename    : /usr/bin/xmllint
</span></span></code></pre></div><h4 id="--yum-history">- yum history</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum history
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>ID     | Command line                                             | Date and time    | Action<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>      | Altered
</span></span><span style="display:flex;"><span>---------------------------------------------------------------------------------------------------------------
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">12</span> | install expat-devel                                      | 2023-12-24 00:23 | Install        |    <span style="color:#ae81ff">1</span>   
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">11</span> | install lrzsz                                            | 2023-12-24 00:11 | Install        |    <span style="color:#ae81ff">1</span>   
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">10</span> | install xmlstarlet                                       | 2023-12-16 20:47 | Install        |    <span style="color:#ae81ff">1</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">9</span> | erase httpd                                              | 2023-12-15 21:14 | Removed        |   <span style="color:#ae81ff">17</span> EE
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">8</span> | install httpd-devel                                      | 2023-12-05 23:59 | Install        |    <span style="color:#ae81ff">8</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">7</span> | install -y httpd                                         | 2023-12-03 20:17 | Install        |    <span style="color:#ae81ff">9</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">6</span> | install -y java-1.8.0-openjdk-devel.x86_64               | 2023-12-03 19:35 | Install        |    <span style="color:#ae81ff">6</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">5</span> | update                                                   | 2023-12-02 09:20 | I, U           |  <span style="color:#ae81ff">261</span> EE
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">4</span> | install nmap-ncat                                        | 2023-12-02 09:19 | Upgrade        |    <span style="color:#ae81ff">1</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">3</span> | install yum-utils                                        | 2023-10-03 12:50 | Install        |    <span style="color:#ae81ff">1</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">2</span> | update -y                                                | 2023-10-03 12:42 | I, U           |  <span style="color:#ae81ff">128</span>   
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">1</span> |                                                          | 2023-10-03 12:14 | Install        |  <span style="color:#ae81ff">778</span> EE
</span></span></code></pre></div><h3 id="-rpm">* <code>rpm</code></h3>
<h4 id="--rpm--qa">- rpm -qa</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rpm -qa -last
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>java-1.8.0-openjdk-devel-1.8.0.392.b08-4.el8_8.x86_64 Sun Dec  <span style="color:#ae81ff">3</span> 19:35:32 <span style="color:#ae81ff">2023</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ rpm -qa --qf <span style="color:#e6db74">&#39;%{INSTALLTIME:date} %{NAME}-%{VERSION}-%{RELEASE}.%{ARCH}\n&#39;</span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>Sun Dec  <span style="color:#ae81ff">3</span> 19:35:32 <span style="color:#ae81ff">2023</span> java-1.8.0-openjdk-devel-1.8.0.392.b08-4.el8_8.x86_64
</span></span></code></pre></div><h4 id="--rpm--ql">- rpm -ql</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rpm -ql java-1.8.0-openjdk-devel-1.8.0.392.b08-4.el8_8.x86_64
</span></span></code></pre></div><h3 id="-tar">* <code>tar</code></h3>
<h4 id="--zst-해제-tar--i-zstd">- zst 해제: tar -I zstd</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ wget https://repo.msys2.org/msys/x86_64/zsh-5.8-5-x86_64.pkg.tar.zst
</span></span><span style="display:flex;"><span>$ tar -I zstd -xvf zsh-5.8-5-x86_64.pkg.tar.zst
</span></span></code></pre></div><h4 id="--분할-압축-split--b-3072m">- 분할 압축: split -b 3072m</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># compress</span>
</span></span><span style="display:flex;"><span>$ tar cvfz - target | split -b 3072m - target.tgz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># decompress</span>
</span></span><span style="display:flex;"><span>$ cat target.tgz.* | tar zxvf -
</span></span></code></pre></div><h4 id="--디렉토리-제외---exclude">- 디렉토리 제외: &ndash;exclude</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ tar cvfz tomcat.tgz --exclude <span style="color:#e6db74">&#39;work&#39;</span> --exclude <span style="color:#e6db74">&#39;logs&#39;</span> /engn/servers
</span></span></code></pre></div><h4 id="--경로-유지---absolute-name--p---transform">- 경로 유지: &ndash;absolute-name, -P, &ndash;transform</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd / <span style="color:#f92672">&amp;&amp;</span> tar cvfzP etc.tgz etc/docker/daemon.json
</span></span><span style="display:flex;"><span>$ tar tvfz etc.tgz 
</span></span><span style="display:flex;"><span>-rw-r--r-- root/root       <span style="color:#ae81ff">147</span> 2024-11-09 21:13 etc/docker/daemon.json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ tar cvfzP etc.tgz --transform <span style="color:#e6db74">&#39;s|^/||&#39;</span> /etc/docker/daemon.json
</span></span><span style="display:flex;"><span>$ tar tvfz etc.tgz 
</span></span><span style="display:flex;"><span>-rw-r--r-- root/root       <span style="color:#ae81ff">147</span> 2024-11-09 21:13 etc/docker/daemon.json
</span></span></code></pre></div><h3 id="-lsof">* <code>lsof</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ lsof -u jenkins -a +D /data
</span></span><span style="display:flex;"><span>$ lsof -i <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>$ lsof -t -i TCP:8100
</span></span><span style="display:flex;"><span>$ ps -ef | grep <span style="color:#e6db74">`</span>lsof -t -i tcp:8100<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>$ lsof -t -i tcp:8100 | xargs kill -9 
</span></span></code></pre></div><h3 id="-xargs">* <code>xargs</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 공백 문자 포함 파일명</span>
</span></span><span style="display:flex;"><span>$ find . -type f -name <span style="color:#e6db74">&#39;*.jsp&#39;</span> | xargs -I<span style="color:#f92672">{}</span> ls -al <span style="color:#f92672">{}</span>
</span></span></code></pre></div><h3 id="-hostname">* <code>hostname</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ hostnamectl set-hostname develop
</span></span></code></pre></div><h3 id="-bash">* <code>bash</code></h3>
<h4 id="--base_dir">- BASE_DIR</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># BASE_DIR: script 파일의 디렉토리 경로</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#BASE_DIR=$( cd $( dirname $0 ) &amp;&amp; pwd -P ) # word splitting 문제를 방지하기 위해 변수나 명령어 확장 부분을 인용부호(&#34;)로 감싸야 함. 공백이 문제를 일으킬 수 있음.</span>
</span></span><span style="display:flex;"><span>BASEDIR<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span> cd <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span> dirname <span style="color:#e6db74">&#34;</span>$0<span style="color:#e6db74">&#34;</span> <span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&amp;&amp;</span> pwd -P <span style="color:#66d9ef">)</span>
</span></span></code></pre></div><h4 id="--mapfile">- mapfile</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mapfile -t LIST <span style="color:#e6db74">&lt;&lt;- EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">.project
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">.settings
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><h4 id="--rm">- rm</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ${BASEDIR} 과 ${item} 사이에 공백이 있거나 의도하지 않은 globbing(파일명 확장)이 발생하지 않도록 방지</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># :?를 추가하여 변수가 정의되지 않았을 경우 스크립트를 중단하도록 하고, 에러 메시지를 출력</span>
</span></span><span style="display:flex;"><span>rm -rf <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>BASEDIR:?<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>item:?<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><h4 id="--파일명-확장자">- 파일명, 확장자</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ FILE_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;a.txt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>FILE_NAME%.*<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>--
</span></span><span style="display:flex;"><span>a
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>FILE_NAME##*.<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>--
</span></span><span style="display:flex;"><span>txt
</span></span></code></pre></div><h4 id="--case-문">- case 문</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">case</span> $var in
</span></span><span style="display:flex;"><span>  a*<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    ;;
</span></span><span style="display:flex;"><span>  a?<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    ;;
</span></span><span style="display:flex;"><span>  a<span style="color:#f92672">[</span>bc<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span>    ;;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">esac</span>
</span></span></code></pre></div><h3 id="-vim">* <code>vim</code></h3>
<h4 id="--homevimrc">- $HOME/.vimrc</h4>
<p>.vimrc 에는 # 주석 불가</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>set paste
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set ts=2
</span></span><span style="display:flex;"><span>set sts=2
</span></span><span style="display:flex;"><span>set shiftwidth=2
</span></span></code></pre></div><h3 id="-self-signed-cert">* <code>self-signed-cert</code></h3>
<h4 id="--git-bash-ca-bundlecrt">- &ldquo;git-bash&rdquo; ca-bundle.crt</h4>
<p>git-bash 에서 ssl 통신 대상 서버가 ca 에 등록되지 않은 crt 인증서를 사용할 경우 curl 을 사용할 때 오류 발생</p>
<p>crt 인증서를 <code>C:\Program Files\Git\mingw64\ssl\certs\ca-bundle.crt</code> 에 추가</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># 간편 테스트
</span></span><span style="display:flex;"><span>$ git ls-remote https://es01:9280
</span></span><span style="display:flex;"><span>fatal: unable to access &#39;https://es01:9280/&#39;: SSL certificate problem: unable to get local issuer certificate
</span></span></code></pre></div><h4 id="--java-cacerts">- &ldquo;java&rdquo; cacerts</h4>
<p>java 에서 ssl 통신 대상 서버가 ca 에 등록되지 않은 crt 인증서를 사용할 경우 <code>$JAVA_HOME/bin/keytool</code> 명령으로 java 에 crt 인증서 등록</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 인증서 등록</span>
</span></span><span style="display:flex;"><span>$ keytool -importcert <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -keystore $JAVA_HOME/lib/security/cacerts <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -file <span style="color:#e6db74">&#34;hello.crt&#34;</span> -alias <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>키 저장소 비밀번호 입력: <span style="color:#f92672">(</span>changeit 입력<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>이 인증서를 신뢰합니까? <span style="color:#f92672">[</span>아니오<span style="color:#f92672">]</span>:  <span style="color:#f92672">(</span>y 입력<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>인증서가 키 저장소에 추가되었습니다.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 인증서 조회</span>
</span></span><span style="display:flex;"><span>$ keytool -list <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -keystore $CACERTS
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>키 저장소 비밀번호 입력: <span style="color:#f92672">(</span>changeit 입력<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>hello, 2020. 5. 8, trustedCertEntry,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 인증서 삭제</span>
</span></span><span style="display:flex;"><span>$ keytool -delete <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -keystore $CACERTS <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -alias <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span></code></pre></div><h4 id="--centos-update-ca-trust-extract">- &ldquo;centos&rdquo; update-ca-trust extract</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cp hello.crt /etc/pki/ca-trust/source/anchors/
</span></span><span style="display:flex;"><span>$ update-ca-trust extract
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># update-ca-trust 명령으로 등록이 안될 경우,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem 파일에 crt 직접 추가</span>
</span></span><span style="display:flex;"><span>$ chmod u+w /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
</span></span><span style="display:flex;"><span>$ cat hello.crt &gt;&gt; /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
</span></span><span style="display:flex;"><span>$ chmod u-w /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
</span></span></code></pre></div><h4 id="--windows-certutil">- &ldquo;windows&rdquo; certutil</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>certutil -addstore -f <span style="color:#e6db74">&#34;ROOT&#34;</span> hello.crt
</span></span></code></pre></div><h3 id="-ls">* <code>ls</code></h3>
<h4 id="--ls---time-style">- ls &ndash;time-style</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 시각까지 표시</span>
</span></span><span style="display:flex;"><span>alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls --time-style long-iso &#39;</span>
</span></span><span style="display:flex;"><span>$ ls -al a.txt
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">0</span> 1981-07-19 00:00 a.txt
</span></span></code></pre></div><h3 id="-find">* <code>find</code></h3>
<h4 id="--find--newer--samefile">- find -newer -samefile</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 기준이 되는 파일을 생성 (e.g 1981년 07월 19일)</span>
</span></span><span style="display:flex;"><span>$ touch -t 198107190000.00 a.txt
</span></span><span style="display:flex;"><span>$ ls -al a.txt
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">0</span> 1981-07-19 00:00 a.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 기준보다 오래된 파일 생성</span>
</span></span><span style="display:flex;"><span>$ touch -t <span style="color:#ae81ff">198101010000</span> old.txt
</span></span><span style="display:flex;"><span>$ ls -al old.txt 
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">0</span> 1981-01-01 00:00 old.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># find 검색 (a.txt 파일보다 오래된 파일을 찾음)</span>
</span></span><span style="display:flex;"><span>$ find . -maxdepth <span style="color:#ae81ff">1</span> -type f ! -newer a.txt -name <span style="color:#e6db74">&#39;*.txt&#39;</span>
</span></span><span style="display:flex;"><span>./a.txt
</span></span><span style="display:flex;"><span>./old.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># find 검색 (기준이 되는 파일을 제외하고 찾음)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -samefile 혹은 -name 해도됨</span>
</span></span><span style="display:flex;"><span>$ find . -maxdepth <span style="color:#ae81ff">1</span> -type f ! -newer a.txt -name <span style="color:#e6db74">&#39;*.txt&#39;</span> ! -samefile a.txt
</span></span><span style="display:flex;"><span>./old.txt
</span></span></code></pre></div><h3 id="-curl-1">* <code>curl</code></h3>
<h4 id="--curl--w-http_code">- curl -w &lsquo;%{http_code}&rsquo;</h4>
<ul>
<li><code>-w</code>, &ndash;write-out <format> Use output FORMAT after completion</li>
<li><code>-s</code>, &ndash;silent        Silent mode</li>
<li><code>-o</code>, &ndash;output <file> Write to file instead of stdout</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl http://localhost:8010/ <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -w <span style="color:#e6db74">&#39;%{http_code}&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -o /dev/null <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -s
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">200</span>
</span></span></code></pre></div><h3 id="-xmlstarlet">* <code>xmlstarlet</code></h3>
<h4 id="--설치">- 설치</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ dnf install epel-release
</span></span><span style="display:flex;"><span>$ yum install xmlstarlet
</span></span></code></pre></div><h3 id="-firewalld">* <code>firewalld</code></h3>
<p>/etc/firewalld/zones/public.xml</p>
<h3 id="-selinux">* <code>selinux</code></h3>
<p>/etc/selinux/config</p>
<p><code>SELINUX=disabled</code></p>
<p>변경 사항 적용 시 <code>shutdown -r now</code> 필요</p>
<h3 id="-network-scripts">* <code>network-scripts</code></h3>
<p>/etc/sysconfig/network-scripts/ifcfg-ens33</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">BOOTPROTO</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;none&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">IPV6INIT</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;no&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">IPADDR</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;172.28.200.30&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">PREFIX</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;24&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">GATEWAY</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;172.28.200.2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">DNS1</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8.8.8.8&#34;</span>
</span></span></code></pre></div><p>변경 사항 적용</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nmcli networking off
</span></span><span style="display:flex;"><span>$ nmcli networking on
</span></span><span style="display:flex;"><span>$ systemctl restart NetworkManager
</span></span></code></pre></div><h3 id="-openssl">* <code>openssl</code></h3>
<h4 id="--pem-키-생성">- pem 키 생성</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 암호화하지 않은 개인키</span>
</span></span><span style="display:flex;"><span>$ openssl genrsa -out private_key.pem <span style="color:#ae81ff">2048</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3des로 암호화된 개인키 생성</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># passphrase를 입력이 필요합니다.</span>
</span></span><span style="display:flex;"><span>$ openssl genrsa -des3 -out enc_private_key.pem <span style="color:#ae81ff">2048</span>
</span></span></code></pre></div><h4 id="--pem-키-패스워드-추가제거">- pem 키 패스워드 추가/제거</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 기존 개인키에 패스워드 추가</span>
</span></span><span style="display:flex;"><span>$ openssl rsa -des3 -in private_key.pem -out enc_private_key.pem
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 기존 개인키에 패스워드 제거</span>
</span></span><span style="display:flex;"><span>$ openssl rsa -in enc_private_key.pem -out private_key.pem
</span></span></code></pre></div><h3 id="-windows">* <code>windows</code></h3>
<h4 id="--setx">- setx</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>setx /m JAVA_HOME &#34;D:\develop\java\openjdk-11.0.2&#34;
</span></span></code></pre></div><h4 id="--xcopy">- xcopy</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>xcopy C:\temp\*.* D:\temp /d/i/s/c/y
</span></span></code></pre></div><h4 id="--netsh">- netsh</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 설정</span>
</span></span><span style="display:flex;"><span>$ netsh interface portproxy add v4tov4 listenport<span style="color:#f92672">=</span><span style="color:#ae81ff">8222</span> listenaddress<span style="color:#f92672">=</span>0.0.0.0 connectport<span style="color:#f92672">=</span><span style="color:#ae81ff">22</span> connectaddress<span style="color:#f92672">=</span>172.28.200.20
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 해제</span>
</span></span><span style="display:flex;"><span>$ netsh interface portproxy delete v4tov4 listenport<span style="color:#f92672">=</span><span style="color:#ae81ff">8222</span> listenaddress<span style="color:#f92672">=</span>0.0.0.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 확인</span>
</span></span><span style="display:flex;"><span>$ netsh interface portproxy show v4tov4
</span></span></code></pre></div><h4 id="--파일공유">- 파일공유</h4>
<ul>
<li>비밀번호 설정하기
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ net user administrator *
</span></span></code></pre></div></li>
<li>centos 에서 windows 공유 디렉토리 mount
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mkdir /share
</span></span><span style="display:flex;"><span>$ mount -t cifs //172.28.200.1/share /share -o username<span style="color:#f92672">=</span>administrator,password<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>$ df -h
</span></span><span style="display:flex;"><span>Filesystem            Size  Used Avail Use% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs              3.8G     <span style="color:#ae81ff">0</span>  3.8G   0% /dev
</span></span><span style="display:flex;"><span>tmpfs                 3.9G   12K  3.9G   1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs                 3.9G   14M  3.8G   1% /run
</span></span><span style="display:flex;"><span>tmpfs                 3.9G     <span style="color:#ae81ff">0</span>  3.9G   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/nvme0n1p9         76G   15G   61G  20% /
</span></span><span style="display:flex;"><span>/dev/nvme0n1p8        3.0G  2.7G  378M  88% /var
</span></span><span style="display:flex;"><span>/dev/nvme0n1p7        5.0G  2.6G  2.4G  53% /home
</span></span><span style="display:flex;"><span>/dev/nvme0n1p2        100G   27G   74G  27% /data
</span></span><span style="display:flex;"><span>/dev/nvme0n1p5         20G  5.0G   16G  25% /app
</span></span><span style="display:flex;"><span>/dev/nvme0n1p3         30G  9.8G   21G  33% /prod
</span></span><span style="display:flex;"><span>/dev/nvme0n1p1        474M  149M  326M  32% /boot
</span></span><span style="display:flex;"><span>tmpfs                 781M     <span style="color:#ae81ff">0</span>  781M   0% /run/user/0
</span></span><span style="display:flex;"><span>//172.28.200.1/share  345G  284G   62G  83% /share
</span></span><span style="display:flex;"><span>$ vi /etc/fstab
</span></span><span style="display:flex;"><span>//172.28.200.1/share /share cifs username<span style="color:#f92672">=</span>administrator,password<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="--vmware-nat-설정">- &ldquo;vmware&rdquo; nat 설정</h4>
<ul>
<li><code>vmware</code> &gt; <code>Edit</code> &gt; <code>Virtual Network Editor</code></li>
<li><code>NAT Settings...</code> &gt; <code>Gateway IP</code> 확인</li>
<li>Subnet IP: 172.28.200.0, Subnet mask: 255.255.255.0</li>
<li>vmware 의 guest os는 172.28.200.2~254 로 설정하고, host os(windows) 와 통신은 172.28.200.1 로 합니다.</li>
</ul>
<h4 id="--7z">- &ldquo;7z&rdquo;</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ 7z a -mx7 -mmt /d/project.zip /d/develop
</span></span><span style="display:flex;"><span>$ 7z a -mx5 -t7z /d/project.zip /d/develop -xr!target -xr!node_modules
</span></span></code></pre></div><h4 id="--chrome-hsts">- &ldquo;chrome&rdquo; hsts</h4>
<ul>
<li><code>chrome://net-internals/#hsts</code> 이동</li>
<li><code>Delete domain security policies</code> 에서 해당 도메인 delete</li>
<li><code>chrome://restart</code> chrome 재시작</li>
</ul>
<h3 id="-maven">* <code>maven</code></h3>
<h4 id="--master-password-생성">- master-password 생성</h4>
<p><code>-emp</code>,&ndash;encrypt-master-password <arg>   Encrypt master security password</p>
<ul>
<li><code>mvn -emp 패스워드</code>명령으로 암호화 패스워드 생성</li>
<li><code>~/.m2/settings-security.xml</code> 파일에 저장</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># &#34;-emp&#34; 는 &#34;--encrypt-master-password&#34; 입니다.</span>
</span></span><span style="display:flex;"><span>$ mvn -emp 패스워드
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>h/JmfOxXj2IH/whyc5/7wpvOT5AeBmlHV/nzmk7rzY+i7vEvpg46lHddfEwHFtN1<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat <span style="color:#e6db74">&lt;&lt; EOF &gt; ~/.m2/settings-security.xml
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;settingsSecurity&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  &lt;master&gt;{h/JmfOxXj2IH/whyc5/7wpvOT5AeBmlHV/nzmk7rzY+i7vEvpg46lHddfEwHFtN1}&lt;/master&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;/settingsSecurity&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><h4 id="--password-암호화">- password 암호화</h4>
<p><code>-ep</code>,&ndash;encrypt-password <arg>           Encrypt server password</p>
<ul>
<li><code>mvn -ep 패스워드</code>명령으로 nexus 암호화 패스워드 생성
<code>$M2_HOME/conf/settings.xml</code>의 <code>&lt;password&gt;</code>에 추가합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mvn -ep <span style="color:#e6db74">&#39;패스워드&#39;</span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>nvTOxUicu5EHTqNwVFkrSKjAQnANDMwZy6sCuPND00w<span style="color:#f92672">=}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ vi $M2_HOME/conf/settings.xml
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>&lt;server&gt;
</span></span><span style="display:flex;"><span>  &lt;id&gt;nexus-snapshot&lt;/id&gt;
</span></span><span style="display:flex;"><span>  &lt;username&gt;admin&lt;/username&gt;
</span></span><span style="display:flex;"><span>  &lt;password&gt;<span style="color:#f92672">{</span>nvTOxUicu5EHTqNwVFkrSKjAQnANDMwZy6sCuPND00w<span style="color:#f92672">=}</span>&lt;/password&gt;
</span></span><span style="display:flex;"><span>&lt;/server&gt;
</span></span></code></pre></div><h4 id="--plugin-deploy-release">- &ldquo;plugin&rdquo; deploy, release</h4>
<ul>
<li><code>spring-boot:repackage</code> 플러그인: spring-boot 를 배포할 때 의존성 라이브러리를 포함하여 executable-jar 생성</li>
<li><code>maven-deploy-plugin</code> 를 <code>nexus-staging-maven-plugin</code> 로 교체</li>
<li><code>maven-release-plugin</code> 플러그인: release 버전의 아티팩트를 nexus 에 배포 후 버전을 올려주는 기능</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;scm&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;connection&gt;</span>scm:git:git@github.com:lislroow/pilot.git<span style="color:#f92672">&lt;/connection&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/scm&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>maven-deploy-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">&lt;!-- nexus-staging-maven-plugin 로 인해 skip 설정을 해야 합니다. --&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;skip&gt;</span>true<span style="color:#f92672">&lt;/skip&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>org.sonatype.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>nexus-staging-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;executions&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;execution&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- default-deploy 에 추가합니다. --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;id&gt;</span>default-deploy<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;phase&gt;</span>deploy<span style="color:#f92672">&lt;/phase&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;goals&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">&lt;goal&gt;</span>deploy<span style="color:#f92672">&lt;/goal&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/execution&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/executions&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">&lt;!-- nexus pro 버전에만 staging-repository 기능을 사용할 수 있습니다. --&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;skipStaging&gt;</span>true<span style="color:#f92672">&lt;/skipStaging&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;executions&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;execution&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- default-install 에 추가합니다. --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- deploy 을 실행하면 실행됩니다. --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;id&gt;</span>default-install<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;phase&gt;</span>install<span style="color:#f92672">&lt;/phase&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;goals&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">&lt;!-- spring-boot-maven-plugin 의 repackage 가 실행되도록 합니다. --&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;goal&gt;</span>repackage<span style="color:#f92672">&lt;/goal&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/execution&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/executions&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;artifactId&gt;</span>maven-release-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;autoVersionSubmodules&gt;</span>false<span style="color:#f92672">&lt;/autoVersionSubmodules&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">&lt;!-- release:perform 이 실행될 때 deploy 를 실행하여 --&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">&lt;!-- spring-boot:repackage 까지 같이 실행되도록 합니다. --&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;goals&gt;</span>deploy<span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;scmCommentPrefix&gt;</span>[build]<span style="color:#f92672">&lt;/scmCommentPrefix&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/plugins&gt;</span>
</span></span></code></pre></div><h4 id="--goal-helpevaluate">- &ldquo;goal&rdquo; help:evaluate</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout
</span></span></code></pre></div><h4 id="--goal-deploydeploy-file">- &ldquo;goal&rdquo; deploy:deploy-file</h4>
<p>version 에 <code>-SNAPSHOT</code> 이 포함되어 있으면 release 저장소에 deploy 불가</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>MVN_ARGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -DpomFile=</span><span style="color:#e6db74">${</span>PROJECT_BASE<span style="color:#e6db74">}</span><span style="color:#e6db74">/pom.xml&#34;</span>
</span></span><span style="display:flex;"><span>MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>MVN_ARGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -Dfile=</span><span style="color:#e6db74">${</span>PROJECT_BASE<span style="color:#e6db74">}</span><span style="color:#e6db74">/target/</span><span style="color:#e6db74">${</span>JAR_FILE<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>JAR_FILE<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> *<span style="color:#e6db74">&#34;-SNAPSHOT&#34;</span>* <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>MVN_ARGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -DrepositoryId=maven-snapshot&#34;</span>
</span></span><span style="display:flex;"><span>  MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>MVN_ARGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -Durl=http://nexus/repository/maven-snapshot/&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>  MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>MVN_ARGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -DrepositoryId=maven-release&#34;</span>
</span></span><span style="display:flex;"><span>  MVN_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>MVN_ARGS<span style="color:#e6db74">}</span><span style="color:#e6db74"> -Durl=http://nexus/repository/maven-release/&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mvn deploy:deploy-file $MVN_ARGS
</span></span></code></pre></div><h4 id="--goal-release">- &ldquo;goal&rdquo; release</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mvn -B clean release:prepare release:perform deploy
</span></span></code></pre></div><ul>
<li>$M2_HOME/conf/settings.xml
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;settings</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;...&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;servers&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;server&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;id&gt;</span>nexus-release<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;username&gt;</span>admin<span style="color:#f92672">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;password&gt;</span>passwd<span style="color:#f92672">&lt;/password&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/server&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;server&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;id&gt;</span>nexus-snapshot<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;username&gt;</span>admin<span style="color:#f92672">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;password&gt;</span>passwd<span style="color:#f92672">&lt;/password&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/server&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/servers&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;mirrors&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;mirror&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;id&gt;</span>nexus<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;name&gt;</span>nexus<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;url&gt;</span>http://nexus/repository/maven-group/<span style="color:#f92672">&lt;/url&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;mirrorOf&gt;</span>*<span style="color:#f92672">&lt;/mirrorOf&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/mirror&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/mirrors&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/settings&gt;</span>
</span></span></code></pre></div></li>
<li>pom.xml
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;scm&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;connection&gt;</span>scm:svn:svn://develop/test/trunk/proto.www<span style="color:#f92672">&lt;/connection&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/scm&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;artifactId&gt;</span>maven-release-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;version&gt;</span>3.0.0-M1<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;autoVersionSubmodules&gt;</span>true<span style="color:#f92672">&lt;/autoVersionSubmodules&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;goals&gt;</span>deploy<span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;username&gt;</span>mgkim<span style="color:#f92672">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;password&gt;</span>passwd<span style="color:#f92672">&lt;/password&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/build&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;distributionManagement&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;snapshotRepository&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;id&gt;</span>mgkim-snapshot<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;url&gt;</span>http://nexus/repository/maven-mgkim-snapshot/<span style="color:#f92672">&lt;/url&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/snapshotRepository&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;repository&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;id&gt;</span>mgkim-release<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;url&gt;</span>http://nexus/repository/maven-mgkim-release/<span style="color:#f92672">&lt;/url&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/repository&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/distributionManagement&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="--goal-dependency">- &ldquo;goal&rdquo; dependency</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mvn dependency:resolve -Dclassifier<span style="color:#f92672">=</span>javadoc
</span></span><span style="display:flex;"><span>$ mvn dependency:sources
</span></span><span style="display:flex;"><span>$ mvn dependency:get -Dartifact<span style="color:#f92672">=</span>javax.servlet:javax.servlet-api:4.0.1:jar
</span></span><span style="display:flex;"><span>$ mvn dependency:go-offline
</span></span></code></pre></div><h4 id="--goal-deploydeploy-file-1">- &ldquo;goal&rdquo; deploy:deploy-file</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mvn -U deploy:deploy-file <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -DrepositoryId<span style="color:#f92672">=</span>nexus-release <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -Durl<span style="color:#f92672">=</span>http://nexus/repository/maven-public-hosted/ <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -DgroupId<span style="color:#f92672">=</span>net.mgkim <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -DartifactId<span style="color:#f92672">=</span>spring-core <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -Dversion<span style="color:#f92672">=</span>1.0.0 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -Dpackaging<span style="color:#f92672">=</span>jar <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -Dfile<span style="color:#f92672">=</span>spring-core-1.0.0.jar
</span></span></code></pre></div><ul>
<li>settings.xml 파일 <code>nexus-release</code> 항목에 username/password 가 일치하지 않을 경우, 401 발생</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#f92672">&lt;servers&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;server&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;id&gt;</span>nexus-release<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;username&gt;</span>admin<span style="color:#f92672">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;password&gt;</span>***(passwd)***<span style="color:#f92672">&lt;/password&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/server&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/servers&gt;</span>
</span></span></code></pre></div><h3 id="-nexus">* <code>nexus</code></h3>
<h4 id="--hosted-저장소-curl-put">- hosted 저장소 curl PUT</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ REPO<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://nexus/repository/maven-public-hosted&#34;</span>
</span></span><span style="display:flex;"><span>$ curl -u <span style="color:#f92672">{</span>id<span style="color:#f92672">}</span>:<span style="color:#f92672">{</span>passwd<span style="color:#f92672">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -X PUT <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -T org/apache/poi/poi/3.10-FINAL/poi-3.10-FINAL.jar <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    <span style="color:#e6db74">${</span>REPO<span style="color:#e6db74">}</span>/org/apache/poi/poi/3.10-FINAL/poi-3.10-FINAL.jar
</span></span></code></pre></div><h3 id="-regex">* <code>regex</code></h3>
<h4 id="--not-matched-word">- not matched word</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>say
</span></span><span style="display:flex;"><span>hello
</span></span><span style="display:flex;"><span>world
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>\b(?!hello)\b\w+
</span></span></code></pre></div><h3 id="-git">* <code>git</code></h3>
<h4 id="--chmod">- chmod</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ git update-index --chmod<span style="color:#f92672">=</span>+x script.sh
</span></span></code></pre></div><h4 id="--일반-옵션">- 일반 옵션</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ git config --global core.autocrlf true
</span></span><span style="display:flex;"><span>$ git config --global user.name 김명구
</span></span><span style="display:flex;"><span>$ git config --global user.email myeonggu.kim@kakao.com
</span></span><span style="display:flex;"><span>$ git config --global core.safecrlf false
</span></span><span style="display:flex;"><span>$ git config --global pull.ff only
</span></span><span style="display:flex;"><span>$ git config --global alias.br branch
</span></span><span style="display:flex;"><span>$ git config --global alias.unstage <span style="color:#e6db74">&#39;reset HEAD --&#39;</span>
</span></span><span style="display:flex;"><span>$ git config --global alias.last <span style="color:#e6db74">&#39;log -1 HEAD&#39;</span>
</span></span></code></pre></div><h4 id="--commit">- commit</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ git commit -m &#39;메시지&#39;
</span></span><span style="display:flex;"><span>$ git add forgotten_file
</span></span><span style="display:flex;"><span>$ git commit --amend
</span></span></code></pre></div><h4 id="--pre-commit">- pre-commit</h4>
<p>git-commit 을 하기 전에 사전 검사를 하기 위한 코드를 bash-shell 로 체크하는 방법입니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># project/.git/hooks/pre-commit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/sh</span>
</span></span><span style="display:flex;"><span>LIST<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>git diff --cached --name-only --diff-filter<span style="color:#f92672">=</span>ACRM<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> file in $LIST
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;.settings/org.eclipse.wst.common.component&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;이클립스 설정 파일(</span>$file<span style="color:#e6db74">)은 commit을 할 수 없습니다.&#34;</span>
</span></span><span style="display:flex;"><span>    exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><h4 id="--push">- push</h4>
<ul>
<li><code>git push origin +test</code>: 원격지 브랜치 test에 강제 push 를 합니다.</li>
<li><code>git push origin test -f</code> 와 같습니다.</li>
<li>강제 push를 하게되면 원격지의 commit history 가 덮어씌워 집니다.</li>
</ul>
<h4 id="--remote">- remote</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ git remote -v
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>origin  https://github.com/lislroow/dlog.git (fetch)
</span></span><span style="display:flex;"><span>origin  https://github.com/lislroow/dlog.git (push)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git remote set-url origin git@github.com:lislroow/dlog.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git remote -v
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>origin  git@github.com:lislroow/dlog.git (fetch)
</span></span><span style="display:flex;"><span>origin  git@github.com:lislroow/dlog.git (push)
</span></span></code></pre></div><h4 id="--log">- log</h4>
<ul>
<li><code>git log --branches --not --remotes</code>: commit 목록 중 원격지에 push 하지 않은 항목 출력</li>
<li><code>git log --oneline --graph</code>: commit 목록을 1 line 으로 출력하면서 graph 로 표시</li>
<li><code>git log -p -1</code>: commit 목록 중 최근 1개에 대하여 <code>-p</code>(patch) diff 출력</li>
<li><code>git log -p -S 문자열</code>: patch 에 문자열이 포함된 commit 목록 출력</li>
<li><code>git log --since='2022-02-26 14:00'</code>: &lsquo;2022-02-26 14:00&rsquo; 부터 지금까지의 commit 목록 출력 (since/until)</li>
</ul>
<h4 id="--restore">- restore</h4>
<ul>
<li><code>git restore path-to-file</code>: working-directory 의 파일 변경 취소</li>
<li><code>git restore --staged path-to-file</code>: Index 의 파일 변경 취소</li>
</ul>
<h4 id="--reset">- reset</h4>
<ul>
<li><code>git reset -- path-to-file</code>: Index 의 파일(Index에 파일이 있다는 것은 staged 상태임)을 unstaging 으로 변경</li>
<li><code>git checkout path-to-file</code></li>
</ul>
<h4 id="--clean">- clean</h4>
<ul>
<li><code>git clean -f</code>: 파일만 삭제</li>
<li><code>git clean -f -d</code>: 파일 및 디렉토리 삭제</li>
<li><code>git clean -f -d -x</code>: 파일 및 디렉토리 및 무시된 파일 삭제</li>
<li><code>git clean -n</code>: 삭제될 대상을 확인</li>
</ul>
<h4 id="--ls-files">- ls-files</h4>
<ul>
<li><code>git ls-files -s</code>: (Index)</li>
</ul>
<h4 id="--branch">- branch</h4>
<ul>
<li><code>git branch --list</code></li>
<li><code>git branch -vv</code></li>
<li><code>git branch -avv</code>: 로컬/원격지 모든 브랜치 조회하면서 tracking 상태 확인</li>
<li><code>git branch test --track origin/main</code>: 원격지 origin/main 브랜치를 start-point 로 하는 test 브랜치 생성</li>
<li><code>git branch --set-upstream-to origin/main</code>: 현재 로컬 브랜치를 원격지 origin/main 브랜치로 tracking 하도록 설정</li>
<li><code>git branch test --set-upstream-to origin/main</code>: 로컬 브랜치 test를 원격지 origin/main 브랜치로 tracking 하도록 설정</li>
<li><code>git switch test</code></li>
<li><code>git push origin test</code>: 로컬 브랜치 test를 원격지에 생성</li>
<li><code>git push origin :test</code>: 원격지 브랜치 test를 삭제</li>
<li><code>git branch -d</code>: merge 하지 않은 커밋을 담고 있는 브랜치는 <code>git branch -D</code> 로 강제 삭제할 수 있음</li>
<li><code>git branch -r</code>: 원격지 브랜치 조회</li>
<li><code>git branch -a</code>: 로컬/원격지 브랜치 모두 조회</li>
<li><code>git remote show origin</code>: 로컬/원격지 tracking 상태 확인</li>
<li><code>git remote prune origin</code>: 원격 브랜치와 유효하지 않는 참조를 삭제</li>
<li><code>git remote update --prune</code></li>
<li><code>git fetch -p</code>: fetch 를 실행하면서 원격 브랜치의 참조가 유효하지 않는 상태의 브랜치를 제거</li>
</ul>
<h4 id="--diff">- diff</h4>
<ul>
<li><code>git diff</code></li>
<li><code>git diff HEAD</code></li>
<li><code>git diff HEAD --color-words</code></li>
<li><code>git diff HEAD --word-diff</code></li>
</ul>
<h4 id="--tag">- tag</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ git tag -d framework-bom-0.2
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>&#39;framework-bom-0.2&#39; 태그 삭제함 (과거 2c5b9f1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git push origin :framework-bom-0.2
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>To github.com:lislroow/pilot.git
</span></span><span style="display:flex;"><span> - [deleted]         framework-bom-0.2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git tag -l framework-*
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>framework-bom-0.1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git tag framework-bom-0.2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git tag -a framework-bom-0.2 -m &#34;Release framework-bom-0.2&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git show framework-bom-0.2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ git push origin --tags
</span></span></code></pre></div><h4 id="--특정-경로만-checkout-하기">- 특정 경로만 checkout 하기</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ git init
</span></span><span style="display:flex;"><span>$ git config core.sparseCheckout true
</span></span><span style="display:flex;"><span>#git config --local credential.helper &#34;&#34;
</span></span><span style="display:flex;"><span>$ git remote add -f origin git@github.com:lislroow/pilot.git
</span></span><span style="display:flex;"><span>$ echo &#34;bom/framework-bom/*&#34; &gt; .git/info/sparse-checkout
</span></span><span style="display:flex;"><span>$ git pull origin main
</span></span></code></pre></div><h3 id="-github">* <code>github</code></h3>
<h4 id="--ssh-key-등록">- ssh key 등록</h4>
<ul>
<li><code>ssh-keygen -t ed25519 -C &quot;hi@mgkim.net&quot;</code></li>
<li><code>C:\Users\Administrator\.ssh\id_ed25519.pub</code> github 등록</li>
<li>github 메뉴: <code>Settings</code> &gt; <code>SSH and GPG keys</code></li>
<li><code>ssh -v -i /C/Users/Administrator/.ssh/id_ed25519.pub -T git@github.com</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ssh key 테스트</span>
</span></span><span style="display:flex;"><span>$ ssh -T git@github.com
</span></span><span style="display:flex;"><span>--- 성공일 경우
</span></span><span style="display:flex;"><span>Hi lislroow! You<span style="color:#960050;background-color:#1e0010">&#39;</span>ve successfully authenticated, but GitHub does not provide shell access.
</span></span><span style="display:flex;"><span>--- 실패일 경우
</span></span><span style="display:flex;"><span>git@github.com: Permission denied <span style="color:#f92672">(</span>publickey<span style="color:#f92672">)</span>.
</span></span></code></pre></div><h4 id="--ssh-agent-실행">- ssh-agent 실행</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>ssh-agent -s<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>Agent pid <span style="color:#ae81ff">126681</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ps -ef | grep ssh-agent
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>root       <span style="color:#ae81ff">31343</span>       <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span> 12월14 ?      00:00:00 ssh-agent -s
</span></span><span style="display:flex;"><span>jenkins   <span style="color:#ae81ff">126681</span>       <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span> 17:12 ?        00:00:00 ssh-agent -s
</span></span><span style="display:flex;"><span>jenkins   <span style="color:#ae81ff">126683</span>  <span style="color:#ae81ff">126640</span>  <span style="color:#ae81ff">0</span> 17:12 pts/1    00:00:00 grep --color<span style="color:#f92672">=</span>auto ssh-agent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ssh-add ~/.ssh/id_ed25519
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>Identity added: /home/jenkins/.ssh/id_ed25519 <span style="color:#f92672">(</span>jenkins@mgkim.net<span style="color:#f92672">)</span>
</span></span></code></pre></div><h4 id="--unable-to-read-askpass-오류">- unable to read askpass 오류</h4>
<p><code>SSH_ASKPASS</code> 변수 unset 할 것</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ git push origin
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>(gnome-ssh-askpass:19816): Gtk-WARNING **: 10:22:08.209: cannot open display: 
</span></span><span style="display:flex;"><span>error: unable to read askpass response from &#39;/usr/libexec/openssh/gnome-ssh-askpass&#39;
</span></span><span style="display:flex;"><span>Username for &#39;https://github.com&#39;: 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo $SSH_ASKPASS
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>/usr/libexec/openssh/gnome-ssh-askpass
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ unset SSH_ASKPASS
</span></span></code></pre></div><h4 id="--personal-access-tokens">- Personal access tokens</h4>
<ul>
<li><code>Settings</code> &gt; <code>Developer settings</code> &gt; <code>Personal access tokens</code> 이동 후</li>
<li><code>Generate new token</code> 버튼 클릭으로 token 생성 (<code>repo</code> 만 체크하면 push 할 수 있음)</li>
<li>token 생성 후 이클립스에서 id에 email 입력, password 에 생성된 토큰 입력</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># token-name: centos
</span></span><span style="display:flex;"><span>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
</span></span></code></pre></div>
        </div>
      </article>
    </div>
  </div>
  <aside class="aside">



<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#-curl">* <code>curl</code></a></li>
            <li><a href="#-systemctl">* <code>systemctl</code></a>
              <ul>
                <li><a href="#1-unit">1) [Unit]</a></li>
                <li><a href="#2-service">2) [Service]</a></li>
                <li><a href="#3-install">3) [Install]</a></li>
                <li><a href="#4-service-unit-등록">4) service unit 등록</a></li>
                <li><a href="#5-service-unit-enableddisabled-확인">5) service unit enabled/disabled 확인</a></li>
              </ul>
            </li>
            <li><a href="#-xmllint">* <code>xmllint</code></a>
              <ul>
                <li><a href="#--text">- text()</a></li>
                <li><a href="#--count">- count()</a></li>
                <li><a href="#--last">- last()</a></li>
                <li><a href="#--for-loop">- for-loop</a></li>
              </ul>
            </li>
            <li><a href="#-yum">* <code>yum</code></a>
              <ul>
                <li><a href="#--yum-provides">- yum provides</a></li>
                <li><a href="#--yum-history">- yum history</a></li>
              </ul>
            </li>
            <li><a href="#-rpm">* <code>rpm</code></a>
              <ul>
                <li><a href="#--rpm--qa">- rpm -qa</a></li>
                <li><a href="#--rpm--ql">- rpm -ql</a></li>
              </ul>
            </li>
            <li><a href="#-tar">* <code>tar</code></a>
              <ul>
                <li><a href="#--zst-해제-tar--i-zstd">- zst 해제: tar -I zstd</a></li>
                <li><a href="#--분할-압축-split--b-3072m">- 분할 압축: split -b 3072m</a></li>
                <li><a href="#--디렉토리-제외---exclude">- 디렉토리 제외: &ndash;exclude</a></li>
                <li><a href="#--경로-유지---absolute-name--p---transform">- 경로 유지: &ndash;absolute-name, -P, &ndash;transform</a></li>
              </ul>
            </li>
            <li><a href="#-lsof">* <code>lsof</code></a></li>
            <li><a href="#-xargs">* <code>xargs</code></a></li>
            <li><a href="#-hostname">* <code>hostname</code></a></li>
            <li><a href="#-bash">* <code>bash</code></a>
              <ul>
                <li><a href="#--base_dir">- BASE_DIR</a></li>
                <li><a href="#--mapfile">- mapfile</a></li>
                <li><a href="#--rm">- rm</a></li>
                <li><a href="#--파일명-확장자">- 파일명, 확장자</a></li>
                <li><a href="#--case-문">- case 문</a></li>
              </ul>
            </li>
            <li><a href="#-vim">* <code>vim</code></a>
              <ul>
                <li><a href="#--homevimrc">- $HOME/.vimrc</a></li>
              </ul>
            </li>
            <li><a href="#-self-signed-cert">* <code>self-signed-cert</code></a>
              <ul>
                <li><a href="#--git-bash-ca-bundlecrt">- &ldquo;git-bash&rdquo; ca-bundle.crt</a></li>
                <li><a href="#--java-cacerts">- &ldquo;java&rdquo; cacerts</a></li>
                <li><a href="#--centos-update-ca-trust-extract">- &ldquo;centos&rdquo; update-ca-trust extract</a></li>
                <li><a href="#--windows-certutil">- &ldquo;windows&rdquo; certutil</a></li>
              </ul>
            </li>
            <li><a href="#-ls">* <code>ls</code></a>
              <ul>
                <li><a href="#--ls---time-style">- ls &ndash;time-style</a></li>
              </ul>
            </li>
            <li><a href="#-find">* <code>find</code></a>
              <ul>
                <li><a href="#--find--newer--samefile">- find -newer -samefile</a></li>
              </ul>
            </li>
            <li><a href="#-curl-1">* <code>curl</code></a>
              <ul>
                <li><a href="#--curl--w-http_code">- curl -w &lsquo;%{http_code}&rsquo;</a></li>
              </ul>
            </li>
            <li><a href="#-xmlstarlet">* <code>xmlstarlet</code></a>
              <ul>
                <li><a href="#--설치">- 설치</a></li>
              </ul>
            </li>
            <li><a href="#-firewalld">* <code>firewalld</code></a></li>
            <li><a href="#-selinux">* <code>selinux</code></a></li>
            <li><a href="#-network-scripts">* <code>network-scripts</code></a></li>
            <li><a href="#-openssl">* <code>openssl</code></a>
              <ul>
                <li><a href="#--pem-키-생성">- pem 키 생성</a></li>
                <li><a href="#--pem-키-패스워드-추가제거">- pem 키 패스워드 추가/제거</a></li>
              </ul>
            </li>
            <li><a href="#-windows">* <code>windows</code></a>
              <ul>
                <li><a href="#--setx">- setx</a></li>
                <li><a href="#--xcopy">- xcopy</a></li>
                <li><a href="#--netsh">- netsh</a></li>
                <li><a href="#--파일공유">- 파일공유</a></li>
                <li><a href="#--vmware-nat-설정">- &ldquo;vmware&rdquo; nat 설정</a></li>
                <li><a href="#--7z">- &ldquo;7z&rdquo;</a></li>
                <li><a href="#--chrome-hsts">- &ldquo;chrome&rdquo; hsts</a></li>
              </ul>
            </li>
            <li><a href="#-maven">* <code>maven</code></a>
              <ul>
                <li><a href="#--master-password-생성">- master-password 생성</a></li>
                <li><a href="#--password-암호화">- password 암호화</a></li>
                <li><a href="#--plugin-deploy-release">- &ldquo;plugin&rdquo; deploy, release</a></li>
                <li><a href="#--goal-helpevaluate">- &ldquo;goal&rdquo; help:evaluate</a></li>
                <li><a href="#--goal-deploydeploy-file">- &ldquo;goal&rdquo; deploy:deploy-file</a></li>
                <li><a href="#--goal-release">- &ldquo;goal&rdquo; release</a></li>
                <li><a href="#--goal-dependency">- &ldquo;goal&rdquo; dependency</a></li>
                <li><a href="#--goal-deploydeploy-file-1">- &ldquo;goal&rdquo; deploy:deploy-file</a></li>
              </ul>
            </li>
            <li><a href="#-nexus">* <code>nexus</code></a>
              <ul>
                <li><a href="#--hosted-저장소-curl-put">- hosted 저장소 curl PUT</a></li>
              </ul>
            </li>
            <li><a href="#-regex">* <code>regex</code></a>
              <ul>
                <li><a href="#--not-matched-word">- not matched word</a></li>
              </ul>
            </li>
            <li><a href="#-git">* <code>git</code></a>
              <ul>
                <li><a href="#--chmod">- chmod</a></li>
                <li><a href="#--일반-옵션">- 일반 옵션</a></li>
                <li><a href="#--commit">- commit</a></li>
                <li><a href="#--pre-commit">- pre-commit</a></li>
                <li><a href="#--push">- push</a></li>
                <li><a href="#--remote">- remote</a></li>
                <li><a href="#--log">- log</a></li>
                <li><a href="#--restore">- restore</a></li>
                <li><a href="#--reset">- reset</a></li>
                <li><a href="#--clean">- clean</a></li>
                <li><a href="#--ls-files">- ls-files</a></li>
                <li><a href="#--branch">- branch</a></li>
                <li><a href="#--diff">- diff</a></li>
                <li><a href="#--tag">- tag</a></li>
                <li><a href="#--특정-경로만-checkout-하기">- 특정 경로만 checkout 하기</a></li>
              </ul>
            </li>
            <li><a href="#-github">* <code>github</code></a>
              <ul>
                <li><a href="#--ssh-key-등록">- ssh key 등록</a></li>
                <li><a href="#--ssh-agent-실행">- ssh-agent 실행</a></li>
                <li><a href="#--unable-to-read-askpass-오류">- unable to read askpass 오류</a></li>
                <li><a href="#--personal-access-tokens">- Personal access tokens</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



</aside>

</main>

  <footer class="footer">
Designed by MK
</footer>
</body>
</html>
