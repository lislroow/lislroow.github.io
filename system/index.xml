<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>dlog – system</title>
    <link>/system/</link>
    <description>Recent content in system on dlog</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="/system/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>System: centos8</title>
      <link>/system/centos8/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/centos8/</guid>
      <description>
        
        
        &lt;h3 id=&#34;1-서비스&#34;&gt;1. 서비스&lt;/h3&gt;
&lt;h4 id=&#34;11-port&#34;&gt;1.1 port&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;systemd&lt;/code&gt;: /etc/systemd/system/*.service&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;service&lt;/th&gt;
&lt;th&gt;port&lt;/th&gt;
&lt;th&gt;user&lt;/th&gt;
&lt;th&gt;running&lt;/th&gt;
&lt;th&gt;execute&lt;/th&gt;
&lt;th&gt;connect&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;httpd&lt;/td&gt;
&lt;td&gt;80&lt;/td&gt;
&lt;td&gt;apache:web&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;httpd.service&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cockpit&lt;/td&gt;
&lt;td&gt;8000&lt;/td&gt;
&lt;td&gt;root:root&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;cockpit.socket&lt;/td&gt;
&lt;td&gt;https://centos8/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nexus&lt;/td&gt;
&lt;td&gt;8100&lt;/td&gt;
&lt;td&gt;nexus:ci&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;nexus.service&lt;/td&gt;
&lt;td&gt;https://nexus/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticsearch&lt;/td&gt;
&lt;td&gt;8200&lt;/td&gt;
&lt;td&gt;elasticsearch:-&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;elasticsearch.service&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kibana&lt;/td&gt;
&lt;td&gt;8300&lt;/td&gt;
&lt;td&gt;kibana:-&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;kibana.service&lt;/td&gt;
&lt;td&gt;http://kibana/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jenkins&lt;/td&gt;
&lt;td&gt;8400&lt;/td&gt;
&lt;td&gt;jenkins:ci&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;jenkins.service&lt;/td&gt;
&lt;td&gt;http://jenkins/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logstash&lt;/td&gt;
&lt;td&gt;9600&lt;/td&gt;
&lt;td&gt;logstash:-&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;logstash.service&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logstash&lt;/td&gt;
&lt;td&gt;10000&lt;/td&gt;
&lt;td&gt;logstash:-&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;logstash.service&lt;/td&gt;
&lt;td&gt;tcp:10000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logstash&lt;/td&gt;
&lt;td&gt;11000&lt;/td&gt;
&lt;td&gt;logstash:-&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;logstash.service&lt;/td&gt;
&lt;td&gt;filebeat:11000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;oracle(dbms)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;oracle:oinstall&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;ora12c@dbms.service&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;oracle(lsnrctl)&lt;/td&gt;
&lt;td&gt;1521&lt;/td&gt;
&lt;td&gt;oracle:oinstall&lt;/td&gt;
&lt;td&gt;automatically&lt;/td&gt;
&lt;td&gt;ora12c@lsnrctl.service&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;svn&lt;/td&gt;
&lt;td&gt;3690&lt;/td&gt;
&lt;td&gt;root:root&lt;/td&gt;
&lt;td&gt;manually&lt;/td&gt;
&lt;td&gt;start-svn.sh&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;h4 id=&#34;12-주요-파일&#34;&gt;1.2 주요 파일&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;service&lt;/th&gt;
&lt;th&gt;경로&lt;/th&gt;
&lt;th&gt;내용 보기&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;httpd&lt;/td&gt;
&lt;td&gt;/etc/httpd/conf.d/*.conf&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220127-httpd-conf.zip&#34;&gt;다운로드&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cockpit&lt;/td&gt;
&lt;td&gt;/etc/systemd/system/sockets.target.wants/cockpit.socket&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220128-cockpit.socket.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nexus&lt;/td&gt;
&lt;td&gt;/prod/nexus/nexus-3.28.1-01/*&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20210106-nexus-conf-list.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticsearch&lt;/td&gt;
&lt;td&gt;/etc/elasticsearch/elasticsearch.yml&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220127-elasticsearch.yml.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kibana&lt;/td&gt;
&lt;td&gt;/etc/kibana/kibana.yml&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220127-kibana.yml.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jenkins&lt;/td&gt;
&lt;td&gt;/prod/jenkins/jenkins.sh&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220106-jenkins.sh.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logstash&lt;/td&gt;
&lt;td&gt;/etc/logstash/conf.d/*.conf&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220106-jenkins.sh.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;oracle(dbms)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;생략&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;oracle(lsnrctl)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;생략&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;svn&lt;/td&gt;
&lt;td&gt;/root/bin/start-svn.sh&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220106-start-svn.sh.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maven&lt;/td&gt;
&lt;td&gt;/prod/maven/maven-3.6.3/conf/settings.xml&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;/files/system/20220127-maven-conf.zip&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;h3 id=&#34;2-패키지&#34;&gt;2. 패키지&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;패키지&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cockpit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mosh&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;xmlstarlet&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloud-utils-growpart&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;전체 목록(yum): &lt;code&gt;yum list installed&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/files/system/20220127-yum-list-installed.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>System: ELK</title>
      <link>/system/elk/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/elk/</guid>
      <description>
        
        
        &lt;h4 id=&#34;elasticsearch-설치&#34;&gt;elasticsearch 설치&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;artifacts.elastic.co&lt;/code&gt; 에서 rpm 다운로드 후 설치&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.16.3-x86_64.rpm
$ rpm -i elasticsearch-7.16.3-x86_64.rpm
$ systemctl restart elasticsearch
$ curl -L -O https://artifacts.elastic.co/downloads/kibana/kibana-7.16.3-linux-x86_64.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ rpm -i elasticsearch-7.16.3-x86_64.rpm
경고: elasticsearch-7.16.3-x86_64.rpm: Header V4 RSA/SHA512 Signature, key ID d88e42b4: NOKEY
Creating elasticsearch group... OK
Creating elasticsearch user... OK
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;### NOT starting on installation, please execute the following statements to configure elasticsearch service to start automatically using systemd&lt;/span&gt;
 sudo systemctl daemon-reload
 sudo systemctl &lt;span style=&#34;color:#204a87&#34;&gt;enable&lt;/span&gt; elasticsearch.service
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;### You can start elasticsearch service by executing&lt;/span&gt;
 sudo systemctl start elasticsearch.service
warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME
Created elasticsearch keystore in /etc/elasticsearch/elasticsearch.keystore
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;/usr/lib/tmpfiles.d/elasticsearch.conf:1&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt; Line references path below legacy directory /var/run/, updating /var/run/elasticsearch → /run/elasticsearch&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt; please update the tmpfiles.d/ drop-in file accordingly.
$ curl http://127.0.0.1:9200
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;centos8&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;cluster_name&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;elasticsearch&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;cluster_uuid&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;_e3hsZBwTtS2aAyJvCfqbA&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;number&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;7.16.3&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;build_flavor&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;default&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;build_type&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;rpm&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;build_hash&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;4e6e4eab2297e949ec994e688dad46290d018022&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;build_date&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;2022-01-06T23:43:02.825887787Z&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;build_snapshot&amp;#34;&lt;/span&gt; : false,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lucene_version&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;8.10.1&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;minimum_wire_compatibility_version&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;6.8.0&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;minimum_index_compatibility_version&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;6.0.0-beta1&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;tagline&amp;#34;&lt;/span&gt; : &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;You Know, for Search&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;elasticsearch-설정&#34;&gt;elasticsearch 설정&lt;/h4&gt;
&lt;p&gt;설정 파일 &lt;code&gt;/etc/elasticsearch/elasticsearch.yml&lt;/code&gt;에서 데이터/로그 디렉토리 변경&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;##&lt;/span&gt;
$ mkdir -p /data/PROD/es &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown elasticsearch:elasticsearch /data/PROD/es
$ mkdir -p /data/PROD/es &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown elasticsearch:elasticsearch /outlog/PROD/es

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;## &lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;33&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#path.data: /var/lib/elasticsearch&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;34&lt;/span&gt; path.data: /data/PROD/es
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;38&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#path.logs: /var/log/elasticsearch&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;39&lt;/span&gt; path.logs: /outlog/PROD/es
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;58&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#network.host: 192.168.0.1&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;59&lt;/span&gt; network.host: 0.0.0.0
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;73&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#discovery.seed_hosts: [&amp;#34;host1&amp;#34;, &amp;#34;host2&amp;#34;]&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;74&lt;/span&gt; discovery.seed_hosts: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;0.0.0.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;kibana-설치-binary&#34;&gt;kibana 설치 (binary)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;artifacts.elastic.co&lt;/code&gt;에서 tar.gz 다운로드 후 아카이브 해제&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ curl -L -O https://artifacts.elastic.co/downloads/kibana/kibana-7.16.3-linux-x86_64.tar.gz
$ tar zxvf kibana-7.16.3-linux-x86_64.tar.gz
$ mkdir -p /prod/kibana
$ mv kibana-7.16.3-linux-x86_64 /prod/kibana
$ &lt;span style=&#34;color:#204a87&#34;&gt;cd&lt;/span&gt; /prod/kibana &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ln -s kibana-7.16.3-linux-x86_64 kibana
$ chown -R tomcat:ap /prod/kibana
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ tree -L &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;
.
├── kibana -&amp;gt; kibana-7.16.3-linux-x86_64/
└── kibana-7.16.3-linux-x86_64
    ├── LICENSE.txt
    ├── NOTICE.txt
    ├── README.txt
    ├── bin
    ├── config
    ├── data
    ├── node
    ├── node_modules
    ├── package.json
    ├── plugins
    ├── src
    └── x-pack

&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10&lt;/span&gt; directories, &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4&lt;/span&gt; files
$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;kibana-설치-yum&#34;&gt;kibana 설치 (yum)&lt;/h4&gt;
&lt;p&gt;PGP 를 추가합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;vi /etc/yum.repos.d/kibana.repo&lt;/code&gt; 아래 내용을 추가합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;kibana-7.x&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;Kibana repository &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;for&lt;/span&gt; 7.x packages
&lt;span style=&#34;color:#000&#34;&gt;baseurl&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;https://artifacts.elastic.co/packages/7.x/yum
&lt;span style=&#34;color:#000&#34;&gt;gpgcheck&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;gpgkey&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;https://artifacts.elastic.co/GPG-KEY-elasticsearch
&lt;span style=&#34;color:#000&#34;&gt;enabled&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;autorefresh&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;rpm-md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;yum 으로 kibana 를 설치합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ yum install kibana
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;systemd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ systemctl &lt;span style=&#34;color:#204a87&#34;&gt;enable&lt;/span&gt; kibana
$ systemctl start kibana
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;kibana-설정-binary&#34;&gt;kibana 설정 (binary)&lt;/h4&gt;
&lt;p&gt;설정 파일 &lt;code&gt;/prod/kibana/kibana/config/kibana.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 기본 설정 파일로 실행 시 `server.publicBaseUrl` 에 대한 경고가 표시 됩니다.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# &amp;#34;server.publicBaseUrl&amp;#34; 는 &amp;#34;server.basePath&amp;#34; 의 경로를 반드시 포함해야 합니다.&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;24&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#server.publicBaseUrl: &amp;#34;&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;25&lt;/span&gt; server.publicBaseUrl: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;http://localhost:5601&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# logging off&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;103&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#logging.silent: false&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;104&lt;/span&gt; logging.silent: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/kibana/master/settings.html&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://www.elastic.co&#34;&gt;www.elastic.co&lt;/a&gt; kibana 설정 가이드&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h4 id=&#34;kibana-설정-yum&#34;&gt;kibana 설정 (yum)&lt;/h4&gt;
&lt;p&gt;설정 파일 &lt;code&gt;/etc/kibana/kibana.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;server.port: &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;5601&lt;/span&gt;
server.publicBaseUrl: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;http://localhost:5601&amp;#34;&lt;/span&gt;
logging.silent: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/kibana/7.16/rpm.html#rpm-layout&#34; target=&#34;_blank&#34;&gt;rpm-layout&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;설정: /etc/kibana&lt;/li&gt;
&lt;li&gt;로그: /var/log/kibana&lt;/li&gt;
&lt;li&gt;데이터: /var/lib/kibana&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;로그 경로 변경 (&lt;code&gt;/var/log/kibana&lt;/code&gt; &amp;gt; &lt;code&gt;/outlog/PROD/kibana&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ mkdir -p /outlog/PROD/kibana &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown kibana:kibana /outlog/PROD/kibana
$ vi /etc/systemd/system/kibana.service
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;18&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#ExecStart=/usr/share/kibana/bin/kibana --logging.dest=&amp;#34;/var/log/kibana/kibana.log&amp;#34; --pid.file=&amp;#34;/run/kibana/kibana.pid&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;19&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ExecStart&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/usr/share/kibana/bin/kibana --logging.dest&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/outlog/PROD/kibana/kibana.log&amp;#34;&lt;/span&gt; --pid.file&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/run/kibana/kibana.pid&amp;#34;&lt;/span&gt;
$ systemctl restart kibana
Warning: The unit file, &lt;span style=&#34;color:#204a87&#34;&gt;source&lt;/span&gt; configuration file or drop-ins of kibana.service changed on disk. Run &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;systemctl daemon-reload&amp;#39;&lt;/span&gt; to reload units.

$ systemctl daemon-reload
$ systemctl restart kibana
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;httpd 가상호스트 설정&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName kibana

  ErrorLog &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/kibana-error.log.%Y-%m-%d 86400 +540%&amp;#34;&lt;/span&gt;
  CustomLog &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/kibana-access.log.%Y-%m-%d 86400 +540%&amp;#34;&lt;/span&gt; combined

  AllowEncodedSlashes On
  Header &lt;span style=&#34;color:#204a87&#34;&gt;set&lt;/span&gt; Access-Control-Allow-Origin &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;

  ProxyRequests Off
  ProxyPreserveHost On

  &amp;lt;Proxy *&amp;gt;
    Require all granted
  &amp;lt;/Proxy&amp;gt;

  ProxyPass / http://localhost:5601/        &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# &amp;#34;kibana.yml&amp;#34; 파일 &amp;#34;server.host&amp;#34; 에 설정된 호스트로 할 것&lt;/span&gt;
  ProxyPassReverse / http://localhost:5601/
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;kibana는 elasticsearch 와 connect 가 되지 않은 상태일 경우 &lt;code&gt;Kibana server is not ready yet&lt;/code&gt; 메시지가 표시됩니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;#/etc/kibana/kibana.yml
#elasticsearch.hosts: [&amp;#34;http://localhost:9200&amp;#34;]
elasticsearch.hosts: [&amp;#34;http://localhost:8200&amp;#34;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;logstash-설치&#34;&gt;logstash 설치&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ yum install logstash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;systemd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ systemctl &lt;span style=&#34;color:#204a87&#34;&gt;enable&lt;/span&gt; logstash
$ systemctl start logstash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;logstash-설정&#34;&gt;logstash 설정&lt;/h4&gt;
&lt;p&gt;데이터 경로&lt;code&gt;path.data&lt;/code&gt;, log 경로&lt;code&gt;path.logs&lt;/code&gt;를 변경합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ mkdir -p /outlog/PROD/logstash &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown logstash:logstash /outlog/PROD/logstash
$ vi /etc/logstash/logstash.yml
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;28&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#path.data: /var/lib/logstash&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;29&lt;/span&gt; path.data: /data/PROD/logstash
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;87&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# config.reload.automatic: false&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;88&lt;/span&gt; config.reload.automatic: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;95&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# config.reload.interval: 3s&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;96&lt;/span&gt; config.reload.interval: 1s
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;269&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#path.logs: /var/log/logstash&lt;/span&gt;
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;270&lt;/span&gt; path.logs: /outlog/PROD/logstash

$ mkdir /data/PROD/logstash &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown logstash:logstash /data/PROD/logstash
$ mkdir /outlog/PROD/logstash &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chown logstash:logstash /outlog/PROD/logstash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;logstash 서비스는 pipelines.yml 의 conf 파일 설정이 되었을때 start 를 하는 것을 권합니다.&lt;/p&gt;
&lt;p&gt;conf 파일이 없을 경우 &lt;code&gt;config.reload.automatic: true&lt;/code&gt;에 의해 &lt;code&gt;config.reload.interval: 1s&lt;/code&gt; 마다 아래와 같은 로그가 &lt;code&gt;/outlog/PROD/logstash/logstash-plain.log&lt;/code&gt; 파일에 출력됩니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[2022-01-28T11:09:33,537][INFO ][logstash.config.source.local.configpathloader] No config files found in path {:path=&amp;gt;&amp;#34;/etc/logstash/conf.d/*.conf&amp;#34;}
[2022-01-28T11:09:33,539][ERROR][logstash.config.sourceloader] No configuration found in the configured sources.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;logstash-설정-pipelinesyml&#34;&gt;logstash 설정 (pipelines.yml)&lt;/h4&gt;
&lt;p&gt;logstash 는 &lt;code&gt;/etc/logstash/pipelines.yml&lt;/code&gt; 에는 conf 파일(&lt;code&gt;input-filter-output&lt;/code&gt; 처리를 정의한 파일)의 경로를 설정합니다.&lt;/p&gt;
&lt;p&gt;기본 설치된 &lt;code&gt;pipelines.yml&lt;/code&gt; 내용을 보면 다음과 같습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ cat /etc/logstash/pipelines.yml
# This file is where you define your pipelines. You can define multiple.
# For more information on multiple pipelines, see the documentation:
#   https://www.elastic.co/guide/en/logstash/current/multiple-pipelines.html

- pipeline.id: main
  path.config: &amp;#34;/etc/logstash/conf.d/*.conf&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;아래와 같이 설정 파일을 추가하면 &lt;code&gt;config.reload.automatic: true&lt;/code&gt; 설정에 의해 자동으로 conf 파일을 reload 합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ cat &amp;lt;&amp;lt; EOF &amp;gt; /etc/logstash/conf.d/exam_tcp.conf
input {
  tcp {
    port =&amp;gt; 10000
  }
}

output {
  stdout {}
}
EOF
$ 
$ ls -al /etc/logstash/conf.d/exam_tcp.conf
-rw-r--r-- 1 root root 77 2022-01-28 01:59 /etc/logstash/conf.d/exam_tcp.conf
$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;exam_tcp.conf&lt;/code&gt; 파일을 추가했을 때와 port 를 10000 에서 10001 로 변경했을 때에 대한 로그입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[2022-01-28T11:09:35,939][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=&amp;gt;&amp;#34;main&amp;#34;, &amp;#34;pipeline.workers&amp;#34;=&amp;gt;4, &amp;#34;pipeline.batch.size&amp;#34;=&amp;gt;125, &amp;#34;pipeline.batch.delay&amp;#34;=&amp;gt;50, &amp;#34;pipeline.max_inflight&amp;#34;=&amp;gt;500, &amp;#34;pipeline.sources&amp;#34;=&amp;gt;[&amp;#34;/etc/logstash/conf.d/exam_tcp.conf&amp;#34;], :thread=&amp;gt;&amp;#34;#&amp;lt;Thread:0x9fd78a8 run&amp;gt;&amp;#34;}
[2022-01-28T11:09:35,967][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {&amp;#34;seconds&amp;#34;=&amp;gt;0.03}
[2022-01-28T11:09:35,982][INFO ][logstash.javapipeline    ][main] Pipeline started {&amp;#34;pipeline.id&amp;#34;=&amp;gt;&amp;#34;main&amp;#34;}
[2022-01-28T11:09:35,984][INFO ][logstash.inputs.tcp      ][main][d83c273d53113db5c7c05a26049443aedcdfcd34e3deae0d6abd509db45a5e87] Starting tcp input listener {:address=&amp;gt;&amp;#34;0.0.0.0:10000&amp;#34;, :ssl_enable=&amp;gt;false}
[2022-01-28T11:09:35,987][INFO ][logstash.agent           ] Pipelines running {:count=&amp;gt;1, :running_pipelines=&amp;gt;[:main], :non_running_pipelines=&amp;gt;[]}

[2022-01-28T11:10:40,988][INFO ][logstash.pipelineaction.reload] Reloading pipeline {&amp;#34;pipeline.id&amp;#34;=&amp;gt;:main}
[2022-01-28T11:10:45,149][INFO ][logstash.javapipeline    ][main] Pipeline terminated {&amp;#34;pipeline.id&amp;#34;=&amp;gt;&amp;#34;main&amp;#34;}
[2022-01-28T11:10:46,510][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=&amp;gt;&amp;#34;main&amp;#34;, &amp;#34;pipeline.workers&amp;#34;=&amp;gt;4, &amp;#34;pipeline.batch.size&amp;#34;=&amp;gt;125, &amp;#34;pipeline.batch.delay&amp;#34;=&amp;gt;50, &amp;#34;pipeline.max_inflight&amp;#34;=&amp;gt;500, &amp;#34;pipeline.sources&amp;#34;=&amp;gt;[&amp;#34;/etc/logstash/conf.d/exam_tcp.conf&amp;#34;], :thread=&amp;gt;&amp;#34;#&amp;lt;Thread:0x58a6a0d5 run&amp;gt;&amp;#34;}
[2022-01-28T11:10:46,529][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {&amp;#34;seconds&amp;#34;=&amp;gt;0.02}
[2022-01-28T11:10:46,543][INFO ][logstash.javapipeline    ][main] Pipeline started {&amp;#34;pipeline.id&amp;#34;=&amp;gt;&amp;#34;main&amp;#34;}
[2022-01-28T11:10:46,543][INFO ][logstash.inputs.tcp      ][main][735f4ed1b2193b470c8f3f5019940dab9a73e81dbd8046b87dd2d15ff6bf5850] Starting tcp input listener {:address=&amp;gt;&amp;#34;0.0.0.0:10001&amp;#34;, :ssl_enable=&amp;gt;false}
[2022-01-28T11:10:46,559][INFO ][logstash.agent           ] Pipelines running {:count=&amp;gt;1, :running_pipelines=&amp;gt;[:main], :non_running_pipelines=&amp;gt;[]}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;logstash-이해&#34;&gt;logstash 이해&lt;/h4&gt;
&lt;p&gt;실행파일&lt;code&gt;/usr/share/logstash/bin/logstash&lt;/code&gt;이 PATH 에 추가하는 것을 권합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;LOGSTASH_HOME&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/usr/share/logstash
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;PATH&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$PATH&lt;/span&gt;:/usr/local/go/bin:&lt;span style=&#34;color:#000&#34;&gt;$LOGSTASH_HOME&lt;/span&gt;/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;logstash 가 동작하는 방식을 이해하기 위한 단계별 예시입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# logstash daemon 을 실행합니다.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# -e 파라미터에는 매우 단순한 표준 입출력을 정의했습니다.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# daemon &lt;/span&gt;
$ logstash -e &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdin {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;별도의 터미널을 열고 logstash 9900 에 &amp;ldquo;hello logstash&amp;rdquo; 문자열을 nc(netcat)명령어로 전송해봅니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ &lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;hello logstash&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;logstash 콘솔에서는 &amp;ldquo;hello logstash&amp;rdquo; 문자열을 stdout 으로 출력한 문자열을 볼 수 있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;{
      &amp;#34;@version&amp;#34; =&amp;gt; &amp;#34;1&amp;#34;,
          &amp;#34;host&amp;#34; =&amp;gt; &amp;#34;localhost&amp;#34;,
          &amp;#34;port&amp;#34; =&amp;gt; 64924,
       &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;hello logstash&amp;#34;,
    &amp;#34;@timestamp&amp;#34; =&amp;gt; 2022-01-26T16:20:17.308Z
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;exam_tpc.ls 라는 텍스트 파일을 생성하고 logstash daemon 을 실행합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; exam_tcp.ls
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  tcp {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    port =&amp;gt; 9900
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
$ logstash -f exam_tcp.ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;nc 명령으로 &amp;ldquo;hello&amp;rdquo; 문자열을 전송해봅니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ &lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 64924,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T16:30:27.908Z
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;logstash -f filename&lt;/code&gt; 형태로 실행했을 경우 &lt;code&gt;filename&lt;/code&gt;에 변경이 있을 경우 자동으로 reload 하는 옵션을 추가 합니다.&lt;/p&gt;
&lt;p&gt;(logstash 를 systemctl 서비스로 실행하는 방식이 아니기에 아래 옵션을 추가해야 합니다.)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;logstash -f filename --config.reload.automatic&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;apache access 로그파일을 하나 준비합니다.&lt;/p&gt;
&lt;p&gt;(참고로 apache 로그파일의 레이아웃은 기본이어야 합니다.)&lt;/p&gt;
&lt;p&gt;로그파일의 1번째 행을 읽어들이고 9900 으로 전송하고 logstash 에서 처리한 로그를 확인합니다.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;message&amp;rdquo; 필드에 보낸 문자열을 출력하고 있는 점을 확인하면 됩니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cp /outlog/WEB/httpd/dwww-access.log.2022-01-09 weblog.txt
$ head -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; weblog.txt  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 65366,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \&amp;#34;GET /resources/jquery.min.js HTTP/1.1\&amp;#34; 503 299 \&amp;#34;http://dwww/status.html\&amp;#34; \&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T16:48:45.155Z
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이번에는 exam_filter.ls 파일을 생성하고, filter 에 &lt;code&gt;grok&lt;/code&gt;을 이용하여 &amp;ldquo;message&amp;rdquo; 필드를 parsing 해보겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;grok&lt;/code&gt; 에 대한 설명은 아래 링크로 대체합니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/logstash-plugins/logstash-patterns-core/blob/main/patterns/ecs-v1/httpd&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;grok-filter&lt;/code&gt;에 의해 message 가 parsing 된 결과를 확인할 수 있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ logstash -f exam_filter.ls

$ cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; exam_filter.ls
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  tcp {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    port =&amp;gt; 9900
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;filter {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  grok {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    match =&amp;gt; { &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;%{COMBINEDAPACHELOG}&amp;#34; }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
$ 
$ head -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; weblog.txt &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;httpversion&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1.1&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \&amp;#34;GET /resources/jquery.min.js HTTP/1.1\&amp;#34; 503 299 \&amp;#34;http://dwww/status.html\&amp;#34; \&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;referrer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;http://dwww/status.html\&amp;#34;&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;agent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ident&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clientip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bytes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;299&amp;#34;&lt;/span&gt;,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;09/Jan/2022:17:52:49 +0900&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auth&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
     &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T16:59:54.543Z,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;response&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;503&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 9122,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;verb&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;request&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/resources/jquery.min.js&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;grok-filter&lt;/code&gt;에서 parsing 되어 생성된 필드인 &lt;code&gt;&amp;quot;clientip&amp;quot;&lt;/code&gt;를 &lt;code&gt;geoip-filter&lt;/code&gt;가 처리할 수 있도록 설정하고 테스트 해봅니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;geoip-filter&lt;/code&gt;는 &lt;code&gt;grok-filter&lt;/code&gt; 다음에 정의해야 한다는 것을 이해해야 합니다.&lt;/p&gt;
&lt;p&gt;처리 결과에 geoip 라는 필드에 하위 세부 정보가 출력되는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;geoip 에 대한 설명은 아래 링크로 대체 합니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/reference/8.0/geoip-processor.html#using-ingest-geoip&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# grok 에서 parsing 된 정보 중 clientip 필드를 geoip 필터에 전달한다는 의미&lt;/span&gt;
$ cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; exam_filter.ls
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  tcp {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    port =&amp;gt; 9900
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;filter {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  grok {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    match =&amp;gt; { &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;%{COMBINEDAPACHELOG}&amp;#34; }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  geoip {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    source =&amp;gt; &amp;#34;clientip&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
$ 
$ head -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; weblog.txt &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auth&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
     &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T17:08:31.046Z,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;response&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;503&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \&amp;#34;GET /resources/jquery.min.js HTTP/1.1\&amp;#34; 503 299 \&amp;#34;http://dwww/status.html\&amp;#34; \&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 9306,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ident&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;agent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;request&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/resources/jquery.min.js&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;verb&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;geoip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;longitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code3&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;city_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;South Korea&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;location&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lat&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lon&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754
        &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;latitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;continent_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;AS&amp;#34;&lt;/span&gt;,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postal_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;04524&amp;#34;&lt;/span&gt;,
                    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timezone&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Asia/Seoul&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;09/Jan/2022:17:52:49 +0900&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bytes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;299&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;referrer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;http://dwww/status.html\&amp;#34;&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;httpversion&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1.1&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clientip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;logstash 의 output 으로 나오는 항목들은 모두 문자열입니다.&lt;/p&gt;
&lt;p&gt;결과 필드를 정수(integer)형으로 변환하는 기능을 추가합니다.&lt;/p&gt;
&lt;p&gt;filter 에 &lt;code&gt;mutate&lt;/code&gt; 를 보면 됩니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; exam_filter.ls
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  tcp {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    port =&amp;gt; 9900
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;filter {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  grok {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    match =&amp;gt; { &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;%{COMBINEDAPACHELOG}&amp;#34; }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  geoip {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    source =&amp;gt; &amp;#34;clientip&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  mutate {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    convert =&amp;gt; {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;      &amp;#34;bytes&amp;#34; =&amp;gt; &amp;#34;integer&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
$ 
$ head -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; weblog.txt &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auth&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;response&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;503&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;verb&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \&amp;#34;GET /resources/jquery.min.js HTTP/1.1\&amp;#34; 503 299 \&amp;#34;http://dwww/status.html\&amp;#34; \&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 9540,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bytes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 299,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;geoip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;continent_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;AS&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postal_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;04524&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timezone&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Asia/Seoul&amp;#34;&lt;/span&gt;,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code3&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;South Korea&amp;#34;&lt;/span&gt;,
                    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;city_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;latitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;longitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;location&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lat&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lon&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754
        &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ident&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
     &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T17:19:32.250Z,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;09/Jan/2022:17:52:49 +0900&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;agent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;request&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/resources/jquery.min.js&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clientip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;referrer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;http://dwww/status.html\&amp;#34;&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;httpversion&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1.1&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;useragent&lt;/code&gt;라는 filter 가 있습니다.&lt;/p&gt;
&lt;p&gt;apache log 에 기본 포함되어있는 &amp;ldquo;agent&amp;rdquo; 필드를 parsing 하여 세분화합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; exam_filter.ls
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  tcp {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    port =&amp;gt; 9900
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;filter {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  grok {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    match =&amp;gt; { &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;%{COMBINEDAPACHELOG}&amp;#34; }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  geoip {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    source =&amp;gt; &amp;#34;clientip&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  mutate {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    convert =&amp;gt; {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;      &amp;#34;bytes&amp;#34; =&amp;gt; &amp;#34;integer&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  useragent {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    source =&amp;gt; &amp;#34;agent&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    target =&amp;gt; &amp;#34;useragent&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
$ 
$ head -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; weblog.txt &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;request&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/resources/jquery.min.js&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bytes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 299,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \&amp;#34;GET /resources/jquery.min.js HTTP/1.1\&amp;#34; 503 299 \&amp;#34;http://dwww/status.html\&amp;#34; \&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ident&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;httpversion&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1.1&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;geoip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postal_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;04524&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;city_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;continent_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;AS&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;South Korea&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timezone&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Asia/Seoul&amp;#34;&lt;/span&gt;,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code3&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;location&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lat&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lon&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754
        &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;longitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;latitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
                    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auth&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;referrer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;http://dwww/status.html\&amp;#34;&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;response&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;503&amp;#34;&lt;/span&gt;,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;useragent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_major&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_full&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Windows 10&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;minor&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Windows&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Chrome&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;patch&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;4692&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;major&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;97&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;97.0.4692.71&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Windows&amp;#34;&lt;/span&gt;,
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;device&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Other&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;verb&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
     &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T17:23:55.151Z,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;09/Jan/2022:17:52:49 +0900&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;agent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 9638,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clientip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;date&lt;/code&gt; filter 입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; exam_filter.ls
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;input {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  tcp {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    port =&amp;gt; 9900
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;filter {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  grok {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    match =&amp;gt; { &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;%{COMBINEDAPACHELOG}&amp;#34; }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  geoip {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    source =&amp;gt; &amp;#34;clientip&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  mutate {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    convert =&amp;gt; {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;      &amp;#34;bytes&amp;#34; =&amp;gt; &amp;#34;integer&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  useragent {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    source =&amp;gt; &amp;#34;agent&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    target =&amp;gt; &amp;#34;useragent&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  date {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    match =&amp;gt; [&amp;#34;timestamp&amp;#34;, &amp;#34;dd/MMM/yyyy:HH:mm:ss Z&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;    target =&amp;gt; &amp;#34;logdate&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  }
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;output {
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;  stdout {}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;
$ 
$ head -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; weblog.txt &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; nc localhost &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9900&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 9818,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90 - - [09/Jan/2022:17:52:49 +0900] \&amp;#34;GET /resources/jquery.min.js HTTP/1.1\&amp;#34; 503 299 \&amp;#34;http://dwww/status.html\&amp;#34; \&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;clientip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ident&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;referrer&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;http://dwww/status.html\&amp;#34;&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;agent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\&amp;#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36\&amp;#34;&amp;#34;&lt;/span&gt;,
     &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-26T17:31:50.864Z,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;request&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/resources/jquery.min.js&amp;#34;&lt;/span&gt;,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;useragent&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Windows&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_full&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Windows 10&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;patch&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;4692&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Chrome&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10&amp;#34;&lt;/span&gt;,
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;device&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Other&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;97.0.4692.71&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;minor&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Windows&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;os_major&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;10&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;major&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;97&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
      &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;09/Jan/2022:17:52:49 +0900&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;@version&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;verb&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;bytes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 299,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;geoip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;longitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754,
                    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;218.39.220.90&amp;#34;&lt;/span&gt;,
          &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;South Korea&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;continent_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;AS&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postal_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;04524&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;location&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lat&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
            &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lon&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 126.9754
        &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_code&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt;,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;latitude&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 37.5794,
              &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;timezone&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Asia/Seoul&amp;#34;&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;region_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;,
         &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;country_code3&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;KR&amp;#34;&lt;/span&gt;,
             &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;city_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Seoul&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;,
           &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;auth&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
       &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;response&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;503&amp;#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;logdate&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; 2022-01-09T08:52:49.000Z,
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;httpversion&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;1.1&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;br&gt;
&lt;p&gt;지금까지 logstash 가 network 에서 읽어들인 데이터를 filter 처리를하고 output 으로 console 에 출력하는 예시를 봤습니다.&lt;/p&gt;
&lt;p&gt;예시에 사용된 모든 exam_*.ls 파일들은 pipelines.yml 에서 인식할 수 있는 경로에 두면 logstash 서비스가 실행하게 됩니다.&lt;/p&gt;
&lt;p&gt;다음은 테스트에 사용된 nc명령이 아닌 filebeat 가 읽어들인 파일을 logstash 로 전송하는 설명을 하겠습니다.&lt;/p&gt;
&lt;br&gt;
&lt;h4 id=&#34;filebeat-설치&#34;&gt;filebeat 설치&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ yum list filebeat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;filebeat-설정&#34;&gt;filebeat 설정&lt;/h4&gt;
&lt;p&gt;filebeat 와 elasticsearch 의 관계를 설명하는 다이어그램입니다.&lt;/p&gt;
&lt;p&gt;filebeat의 주요 기능은 는 로그파일을 읽어들이고(&lt;code&gt;input&lt;/code&gt;) elasticsearch 혹은 logstash 로 출력(&lt;code&gt;output&lt;/code&gt;)하는 것입니다.&lt;/p&gt;
&lt;img src=&#34;/images/system/20220126-ELK-basic.png&#34; width=&#34;600&#34;&gt;
&lt;p&gt;&lt;a href=&#34;/images/system/20220126-ELK-basic.png&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;p&gt;filebeat 설정 파일&lt;code&gt;/etc/filebeat/filebeat.yml&lt;/code&gt;에 기본 설정된 상태를 보면 &lt;code&gt;output.elasticsearch&lt;/code&gt; 가 활성화 되어있고, &lt;code&gt;output.logstash&lt;/code&gt;는  비활성화로 되어있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;132&lt;/span&gt; output.elasticsearch:
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;133&lt;/span&gt;   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Array of hosts to connect to.&lt;/span&gt;
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;134&lt;/span&gt;   hosts: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost:9200&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
...
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;145&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#output.logstash:&lt;/span&gt;
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;146&lt;/span&gt;   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# The Logstash hosts&lt;/span&gt;
&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;147&lt;/span&gt;   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#hosts: [&amp;#34;localhost:5044&amp;#34;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;filebeat는 &lt;code&gt;filebeat &amp;gt; logstash &amp;gt; elasticsearch&lt;/code&gt; 혹은 &lt;code&gt;filebeat &amp;gt; elasticsearch&lt;/code&gt; 형태로 구성할 수 있습니다.&lt;/p&gt;
&lt;p&gt;elasticsearch 에 전송하는 것이 목적이지만 테스트를 위해 logstash 에서 stdout 으로 원하는 포맷으로 logstash-filter 처리가 되었는지를 확인할 때 사용할 수 있습니다.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;filebeat 를 yum 으로 설치했을 경우 systemd 에 추가할 수 있습니다.&lt;/p&gt;
&lt;p&gt;기본적인 운용 개념은 다음과 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;filebeat 서비스 실행&lt;/li&gt;
&lt;li&gt;filebeat 설정 변경 및 모듈 추가&lt;/li&gt;
&lt;li&gt;filebeat 서비스 재시작&lt;/li&gt;
&lt;li&gt;kibana 에서 filebeat 가 elasticsearch 로 출력(&lt;code&gt;output&lt;/code&gt;)한 내용 확인&lt;/li&gt;
&lt;li&gt;filebeat 모듈 설정 (예: 활성화 상태 변경)&lt;/li&gt;
&lt;li&gt;filebeat 서비스 재시작으로 모듈 설정된 내용 반영&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;주요 내용은 설정을 변경하면 filebeat 서비스를 재시작해야 반영된다는 사항이 있습니다.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;filebeat 가 읽어들일 로그파일이 잘 알려진 프로그램의 로그일 경우 modules 에 포함 되어있습니다.&lt;/p&gt;
&lt;p&gt;그 중 apache 모듈에 access_log 를 읽어들이도록 모듈을 설정하고 활성화하는 예시입니다.&lt;/p&gt;
&lt;p&gt;(활성화된 모듈 목록을 확인하고 apache 모듈을 enable 해봅니다.)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ filebeat modules list
Enabled:

Disabled:
activemq
apache
auditd
...
$ 
$ filebeat modules &lt;span style=&#34;color:#204a87&#34;&gt;enable&lt;/span&gt; apache
Enabled apache
$ 
$ filebeat modules list
Enabled:
apache

Disabled:
activemq
auditd
$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;filebeat 의 module 설정은 아래 경로에 있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ ls /etc/filebeat/modules.d/
activemq.yml.disabled     cylance.yml.disabled           iptables.yml.disabled         o365.yml.disabled        sophos.yml.disabled
apache.yml                elasticsearch.yml.disabled     juniper.yml.disabled          okta.yml.disabled        squid.yml.disabled
auditd.yml.disabled       envoyproxy.yml.disabled        kafka.yml.disabled            oracle.yml.disabled      suricata.yml.disabled
aws.yml.disabled          f5.yml.disabled                kibana.yml.disabled           osquery.yml.disabled     system.yml.disabled
awsfargate.yml.disabled   fortinet.yml.disabled          logstash.yml.disabled         panw.yml.disabled        threatintel.yml.disabled
azure.yml.disabled        gcp.yml.disabled               microsoft.yml.disabled        pensando.yml.disabled    tomcat.yml.disabled
barracuda.yml.disabled    google_workspace.yml.disabled  misp.yml.disabled             postgresql.yml.disabled  traefik.yml.disabled
bluecoat.yml.disabled     googlecloud.yml.disabled       mongodb.yml.disabled          proofpoint.yml.disabled  zeek.yml.disabled
cef.yml.disabled          gsuite.yml.disabled            mssql.yml.disabled            rabbitmq.yml.disabled    zookeeper.yml.disabled
checkpoint.yml.disabled   haproxy.yml.disabled           mysql.yml.disabled            radware.yml.disabled     zoom.yml.disabled
cisco.yml.disabled        ibmmq.yml.disabled             mysqlenterprise.yml.disabled  redis.yml.disabled       zscaler.yml.disabled
coredns.yml.disabled      icinga.yml.disabled            nats.yml.disabled             santa.yml.disabled
crowdstrike.yml.disabled  iis.yml.disabled               netflow.yml.disabled          snort.yml.disabled
cyberark.yml.disabled     imperva.yml.disabled           netscout.yml.disabled         snyk.yml.disabled
cyberarkpas.yml.disabled  infoblox.yml.disabled          nginx.yml.disabled            sonicwall.yml.disabled
$ 
$ ls -al /etc/filebeat/modules.d/apache.yml
-rw-r--r-- &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; root root &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;476&lt;/span&gt; 2022-01-07 09:36 /etc/filebeat/modules.d/apache.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;apache.yml&lt;/code&gt;에 access_log, error_log 를 수집할 수 있도록 설정합니다.&lt;/p&gt;
&lt;p&gt;설정 전 확인할 사항&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;access_log 경로: (예) &lt;code&gt;/outlog/WEB/httpd/nexus_ssl-access.log.2022-01-26&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;- module: apache
  access:
    enabled: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
    input:
      fields:
        server_name: develop-httpd
        log_type: nexus_access
    var.paths: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/outlog/WEB/httpd/nexus_ssl-access.log.*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;

  error:
    enabled: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#var.paths: []&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;filebeat modules enable apache&lt;/code&gt; 명령으로 모듈을 활성화 상태로 설정합니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl restart filebeat&lt;/code&gt; 명령으로 서비스를 재시작합니다.&lt;/p&gt;
&lt;p&gt;아래와 같이 kibana 에서 access_log 를 확인합니다.&lt;/p&gt;
&lt;img src=&#34;/images/system/20220126-kibana_basic.png&#34; width=&#34;600&#34;&gt;
&lt;p&gt;&lt;a href=&#34;/images/system/20220126-kibana_basic.png&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h4 id=&#34;filebeat-이해-filebeat-logstash-elastic&#34;&gt;filebeat 이해 (filebeat-logstash-elastic)&lt;/h4&gt;
&lt;h5 id=&#34;logstash-설정-1&#34;&gt;logstash 설정&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;filebeat-elastic&lt;/code&gt; 구성을 &lt;code&gt;filebeat-logstash-elastic&lt;/code&gt; 으로 변경하여 apache 로그를 수집하는 예시입니다.&lt;/p&gt;
&lt;p&gt;logstash 에 filebeat 를 수신하기 위한 pipeline(&lt;code&gt;exam_filebeat.conf&lt;/code&gt;)을 하나 추가합니다.&lt;/p&gt;
&lt;p&gt;테스트를 단계별로 진행하기 위해 output 은 stdout 만 남기고 주석처리를 합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ cat &amp;lt;&amp;lt; EOF &amp;gt; /etc/logstash/conf.d/exam_filebeat.conf
input {
  # exam_tcp.conf 는 tcp 소캣으로 읽어들이도록 설정되어 있습니다.
  #tcp {
  #  port =&amp;gt; 10000
  #}
  # exam_filebeat.conf 는 filebeat 에서 읽어들이도록 설정합니다.
  beats {
    port =&amp;gt; 11000
  }
}

filter {
  mutate {
    remove_field =&amp;gt; [&amp;#34;agent&amp;#34;]
  }
  grok {
    match =&amp;gt; { &amp;#34;message&amp;#34; =&amp;gt; &amp;#34;%{COMBINEDAPACHELOG}&amp;#34; }
  }
  geoip {
    source =&amp;gt; &amp;#34;clientip&amp;#34;
  }
  mutate {
    convert =&amp;gt; {
      &amp;#34;bytes&amp;#34; =&amp;gt; &amp;#34;integer&amp;#34;
    }
  }
  useragent {
    source =&amp;gt; &amp;#34;agent&amp;#34;
    target =&amp;gt; &amp;#34;useragent&amp;#34;
  }
  date {
    match =&amp;gt; [&amp;#34;timestamp&amp;#34;, &amp;#34;dd/MMM/yyyy:HH:mm:ss Z&amp;#34;]
  }
  mutate {
    remove_field =&amp;gt; [&amp;#34;timestamp&amp;#34;, &amp;#34;host&amp;#34;, &amp;#34;@version&amp;#34;, &amp;#34;agent&amp;#34;]
  }
}

output {
  stdout {
    # 대량 데이터일 경우 1건당 .으로 표시되도록 설정
    #codec =&amp;gt; &amp;#34;dots&amp;#34;
  }
  #elasticsearch {
  #  # 로그발생 일자(timestamp)별로 elasticsearch 에 생성되는 index가 을 rolling 되도록 설정
  #  # 의 값으로 %{+yyyy.MM.dd} 포맷의 index가 일자별로 생성됨
  #  index =&amp;gt; &amp;#34;mgkim-apache-log-%{+yyyy.MM.dd}&amp;#34;
  #  # elasticsearch 에 전송시 id/pw 정보가 필요합니다.
  #  # security 미적용 시 평문으로된 &amp;#34;votmdnjem&amp;#34; 를 입력
  #  hosts =&amp;gt; [&amp;#34;localhost:8200&amp;#34;]
  #  user =&amp;gt; &amp;#34;elastic&amp;#34;
  #  password =&amp;gt; &amp;#34;votmdnjem&amp;#34;
  #}
}
EOF
$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;logstash 에 pipeline(&lt;code&gt;exam_filebeat.conf&lt;/code&gt;) 추가 후 정상적으로 시작된 로그를 확인합니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tail -f /outlog/PROD/logstash/logstash-plain.log&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[2022-01-28T17:02:00,967][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=&amp;gt;&amp;#34;main&amp;#34;, &amp;#34;pipeline.workers&amp;#34;=&amp;gt;4, &amp;#34;pipeline.batch.size&amp;#34;=&amp;gt;125, &amp;#34;pipeline.batch.delay&amp;#34;=&amp;gt;50, &amp;#34;pipeline.max_inflight&amp;#34;=&amp;gt;500, &amp;#34;pipeline.sources&amp;#34;=&amp;gt;[&amp;#34;/etc/logstash/conf.d/exam_filebeat.conf&amp;#34;, &amp;#34;/etc/logstash/conf.d/exam_tcp.conf&amp;#34;], :thread=&amp;gt;&amp;#34;#&amp;lt;Thread:0x1625cd85 run&amp;gt;&amp;#34;}
[2022-01-28T17:02:01,912][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {&amp;#34;seconds&amp;#34;=&amp;gt;0.94}
[2022-01-28T17:02:01,937][INFO ][logstash.inputs.beats    ][main] Starting input listener {:address=&amp;gt;&amp;#34;0.0.0.0:11000&amp;#34;}
[2022-01-28T17:02:02,118][INFO ][logstash.javapipeline    ][main] Pipeline started {&amp;#34;pipeline.id&amp;#34;=&amp;gt;&amp;#34;main&amp;#34;}
[2022-01-28T17:02:02,133][INFO ][logstash.inputs.tcp      ][main][71e68810c5b50adf6cf53d1923400c9bc4a6e144d1df3de0b7607e41a062c940] Starting tcp input listener {:address=&amp;gt;&amp;#34;0.0.0.0:10000&amp;#34;, :ssl_enable=&amp;gt;false}
[2022-01-28T17:02:02,219][INFO ][org.logstash.beats.Server][main][cfcaf5386821113b776dd2ed8e280ac14652eefa6917b906e2915cdb2ac8904c] Starting server on port: 11000
[2022-01-28T17:02:02,265][INFO ][logstash.agent           ] Pipelines running {:count=&amp;gt;1, :running_pipelines=&amp;gt;[:main], :non_running_pipelines=&amp;gt;[]}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h5 id=&#34;filebeat-설정-1&#34;&gt;filebeat 설정&lt;/h5&gt;
&lt;p&gt;filebeat 서비스를 활성화합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ systemctl &lt;span style=&#34;color:#204a87&#34;&gt;enable&lt;/span&gt; filebeat.service 
Synchronizing state of filebeat.service with SysV service script with /usr/lib/systemd/systemd-sysv-install.
Executing: /usr/lib/systemd/systemd-sysv-install &lt;span style=&#34;color:#204a87&#34;&gt;enable&lt;/span&gt; filebeat
Created symlink /etc/systemd/system/multi-user.target.wants/filebeat.service → /usr/lib/systemd/system/filebeat.service.
$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;filebeat 서비스 파일&lt;code&gt;/usr/lib/systemd/system/filebeat.service&lt;/code&gt;에서 로그 디렉토리와 데이터 디렉토리를 변경합니다.&lt;/p&gt;
&lt;p&gt;(systemd 서비스 파일을 수정하면 &lt;code&gt;systemctl daemon-reload&lt;/code&gt; 실행해야 반영됩니다.)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ vi /usr/lib/systemd/system/filebeat.service
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;Unit&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Description&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;Filebeat sends log files to Logstash or directly to Elasticsearch.
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Documentation&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;https://www.elastic.co/beats/filebeat
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Wants&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;network-online.target
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;5&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;After&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;network-online.target
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;6&lt;/span&gt; 
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;7&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;Service&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;8&lt;/span&gt; 
  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;GODEBUG=&amp;#39;madvdontneed=1&amp;#39;&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;BEAT_LOG_OPTS=&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;11&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;BEAT_CONFIG_OPTS=-c /etc/filebeat/filebeat.yml&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;12&lt;/span&gt; &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#Environment=&amp;#34;BEAT_PATH_OPTS=--path.home /usr/share/filebeat --path.config /etc/filebeat --path.data /var/lib/filebeat --path.logs /var/log/filebeat&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;13&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;BEAT_PATH_OPTS=--path.home /usr/share/filebeat --path.config /etc/filebeat --path.data /data/PROD/filebeat --path.logs /outlog/PROD/filebeat&amp;#34;&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;14&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ExecStart&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/usr/share/filebeat/bin/filebeat --environment systemd &lt;span style=&#34;color:#000&#34;&gt;$BEAT_LOG_OPTS&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;$BEAT_CONFIG_OPTS&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;$BEAT_PATH_OPTS&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;15&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Restart&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;always
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;16&lt;/span&gt; 
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;17&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;Install&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
 &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;18&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;WantedBy&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;multi-user.target
$ systemctl daemon-reload
$ mkdir -p /data/PROD/filebeat
$ mkdir -p /outlog/PROD/filebeat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;p&gt;filebeat 의 output 을 logstash 로 되도록 수정합니다.&lt;/p&gt;
&lt;p&gt;설정파일&lt;code&gt;/etc/filebeat/filebeat.yml&lt;/code&gt;에서 &lt;code&gt;output.elasticsearch&lt;/code&gt; 를 주석처리하고, &lt;code&gt;output.logstash&lt;/code&gt; 를 주석해제 합니다.&lt;/p&gt;
&lt;p&gt;테스트의 단순화를 위해 filebeat module 이 enable 된 것들을 모두 disable 로 변경합니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;filebeat modules disable apache&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;filebeat 가 읽어들일 테스트용 apache access 로그파일&lt;code&gt;/root/test/weblog.txt&lt;/code&gt;을 설정합니다.&lt;/p&gt;
&lt;p&gt;weblog.txt 파일: &lt;a href=&#34;/files/system/20220128-weblog.txt&#34; download=&#34;weblog.txt&#34;&gt;다운로드&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ vi /etc/filebeat/filebeat.yml
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#- type: filestream&lt;/span&gt;
- type: log
  enabled: &lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
    - /root/ls-test/weblog.txt
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#output.elasticsearch:&lt;/span&gt;
  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#hosts: [&amp;#34;localhost:9200&amp;#34;]&lt;/span&gt;
output.logstash:
  hosts: &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;localhost:11000&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h5 id=&#34;filebeat-logstash-테스트&#34;&gt;filebeat-logstash 테스트&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;logstash 서비스의 startup 로그에서 pipeline 이 정상적으로 설정되었는지 확인&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tail -f /outlog/PROD/logstash/logstash-plain.log&lt;/code&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;logstash 의 console 로그를 보기위해 실행&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tail -f /var/log/messages | grep logstash&lt;/code&gt; 
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;filebeat 의 console 로그를 보기위해 실행&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tail -f /var/log/messages | grep filebeat&lt;/code&gt; 
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;filebeat 서비스를 실행하기 전에 데이터 디렉토리 하위 파일 삭제&lt;/p&gt;
&lt;p&gt;filebeat 가 읽어들인 정보는 /data/PROD/filebeat 에 보관되어 있으며 하위 파일을 삭제하면 filebeat 서비스가 재시작할때 다시 읽어들입니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rm -rf /data/PROD/filebeat/*&lt;/code&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;logstash 서비스 시작&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl restart logstash.service&lt;/code&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;테스트 로그 파일 확인&lt;/p&gt;
&lt;p&gt;테스트용으로 1건만 추가되어있는 파일이 준비되어 있는지 확인합니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /root/ls-test/weblog.txt&lt;/code&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;filebeat 서비스 시작&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl restart filebeat.service&lt;/code&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;결과 확인&lt;/p&gt;
&lt;p&gt;filebeat 서비스 시작으로 logstash 처리까지 되었는지 확인합니다.&lt;/p&gt;
&lt;p&gt;아래는 정상처리가 되었을 경우 출력되는 로그 입니다.&lt;/p&gt;
&lt;p&gt;로그: &lt;a href=&#34;/files/system/20220128-filebeat-logstash_test_log.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;br&gt;
&lt;h5 id=&#34;filebeat-logstash-elastics-테스트&#34;&gt;filebeat-logstash-elastics 테스트&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;filebeat 와 logstash 서비스를 모두 stop 합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ systemctl stop filebeat.service 
$ systemctl stop logstash.service 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;logstash pipeline 설정파일 output 에 elasticsearch 가 주석처리된 부분 해제&lt;/p&gt;
&lt;p&gt;pipeline 설정파일: &lt;code&gt;/etc/logstash/conf.d/exam_filebeat.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;...
output {
  stdout {
    # 대량 데이터일 경우 1건당 .으로 표시되도록 설정
    #codec =&amp;gt; &amp;#34;dots&amp;#34;
  }
  elasticsearch {
    # 로그발생 일자(timestamp)별로 elasticsearch 에 생성되는 index가 을 rolling 되도록 설정
    # 의 값으로 %{+yyyy.MM.dd} 포맷의 index가 일자별로 생성됨
    index =&amp;gt; &amp;#34;mgkim-apache-log-%{+yyyy.MM.dd}&amp;#34;
    # elasticsearch 에 전송시 id/pw 정보가 필요합니다.
    # security 미적용 시 평문으로된 &amp;#34;votmdnjem&amp;#34; 를 입력
    hosts =&amp;gt; [&amp;#34;localhost:8200&amp;#34;]
    user =&amp;gt; &amp;#34;elastic&amp;#34;
    password =&amp;gt; &amp;#34;votmdnjem&amp;#34;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;logstash 서비스 및 filebeat 서비스 시작&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ systemctl start logstash.service 
$ systemctl start filebeat.service 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;logstash startup 로그: &lt;a href=&#34;/files/system/20220128-logstash_startup_log.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(logstash pipeline 에 정의된 elasticsearch 접속정보로 정상 연결되었는지 확인)
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;elasticsearch 에서 처리결과 확인&lt;/p&gt;
&lt;p&gt;elasticsearch 에서 logstash 가 보낸 데이터로 생성된 index 를 조회&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ curl -XGET -u elastic:votmdnjem &amp;#34;http://localhost:8200/_cat/indices?pretty&amp;amp;v&amp;amp;s=index:desc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;조회 결과 index 명은 logstash 의 pipeline 에 설정된 값으로 확인합니다.&lt;/p&gt;
&lt;p&gt;pipeline 설정파일: &lt;code&gt;/etc/logstash/conf.d/exam_filebeat.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;elasticsearch {
  index =&amp;gt; &amp;#34;mgkim-apache-log-%{+yyyy.MM.dd}&amp;#34;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;elasticsearch 에서 index 명 &lt;code&gt;mgkim-apache-log-2022.01.09&lt;/code&gt; 의 데이터 조회&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;$ curl -XGET -u elastic:votmdnjem &amp;#34;http://localhost:8200/mgkim-apache-log-2022.01.09/_search?pretty&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;curl 테스트: &lt;a href=&#34;/file/system/20220128-filebeat-logstash-elastic_test.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>System: httpd</title>
      <link>/system/httpd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/httpd/</guid>
      <description>
        
        
        &lt;h3 id=&#34;command&#34;&gt;command&lt;/h3&gt;
&lt;h4 id=&#34;loaded-모듈-목록-확인&#34;&gt;loaded 모듈 목록 확인&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;httpd -M&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/files/system/20220106-httpd-loaded_modules.txt&#34; target=&#34;_blank&#34;&gt;새 창 보기&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h3 id=&#34;configure&#34;&gt;configure&lt;/h3&gt;
&lt;h4 id=&#34;httpdconf&#34;&gt;httpd.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ServerRoot &amp;#34;/etc/httpd&amp;#34;

Listen 80

Include conf.modules.d/*.conf

User apache
Group web

ServerAdmin hi@mgkim.net
ServerName develop:80

&amp;lt;Directory /&amp;gt;
  AllowOverride none
  Require all denied
&amp;lt;/Directory&amp;gt;

DocumentRoot &amp;#34;/var/www/html&amp;#34;

&amp;lt;Files &amp;#34;.ht*&amp;#34;&amp;gt;
  Require all denied
&amp;lt;/Files&amp;gt;

ErrorLog &amp;#34;/outlog/WEB/httpd/error.log&amp;#34;

LogLevel warn

&amp;lt;IfModule log_config_module&amp;gt;
  LogFormat &amp;#34;%h %l %u %t \&amp;#34;%r\&amp;#34; %&amp;gt;s %b \&amp;#34;%{Referer}i\&amp;#34; \&amp;#34;%{User-Agent}i\&amp;#34;&amp;#34; combined
  LogFormat &amp;#34;%h %l %u %t \&amp;#34;%r\&amp;#34; %&amp;gt;s %b&amp;#34; common
  &amp;lt;IfModule logio_module&amp;gt;
    LogFormat &amp;#34;%h %l %u %t \&amp;#34;%r\&amp;#34; %&amp;gt;s %b \&amp;#34;%{Referer}i\&amp;#34; \&amp;#34;%{User-Agent}i\&amp;#34; %I %O&amp;#34; combinedio
  &amp;lt;/IfModule&amp;gt;
  CustomLog &amp;#34;/outlog/WEB/httpd/access.log&amp;#34; combined
&amp;lt;/IfModule&amp;gt;

&amp;lt;IfModule alias_module&amp;gt;
  ScriptAlias /cgi-bin/ &amp;#34;/var/www/cgi-bin/&amp;#34;
&amp;lt;/IfModule&amp;gt;

&amp;lt;Directory &amp;#34;/var/www/cgi-bin&amp;#34;&amp;gt;
  AllowOverride None
  Options None
  Require all granted
&amp;lt;/Directory&amp;gt;

&amp;lt;IfModule mime_module&amp;gt;
  TypesConfig /etc/mime.types
  AddType application/x-compress .Z
  AddType application/x-gzip .gz .tgz
  AddType text/html .shtml
  AddOutputFilter INCLUDES .shtml
&amp;lt;/IfModule&amp;gt;

AddDefaultCharset UTF-8

&amp;lt;IfModule mime_magic_module&amp;gt;
  MIMEMagicFile conf/magic
&amp;lt;/IfModule&amp;gt;

EnableSendfile on
IncludeOptional conf.d/*.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;sslconf&#34;&gt;ssl.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Listen 443 https

SSLPassPhraseDialog exec:/usr/libexec/httpd-ssl-pass-dialog
SSLSessionCache         shmcb:/run/httpd/sslcache(512000)
SSLSessionCacheTimeout  300
SSLRandomSeed startup file:/dev/urandom  256
SSLRandomSeed connect builtin
SSLCryptoDevice builtin

&amp;lt;VirtualHost _default_:443&amp;gt;
  ServerName develop
  ErrorLog /outlog/WEB/httpd/develop-error_ssl.log
  TransferLog /outlog/WEB/httpd/develop-access_ssl.log
  LogLevel warn

  SSLEngine on
  SSLProtocol all -SSLv2 -SSLv3
  SSLCipherSuite HIGH:3DES:!aNULL:!MD5:!SEED:!IDEA
  SSLCertificateFile /etc/httpd/conf.d/certs/develop.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/develop.key
  &amp;lt;Files ~ &amp;#34;\.(cgi|shtml|phtml|php3?)$&amp;#34;&amp;gt;
    SSLOptions +StdEnvVars
  &amp;lt;/Files&amp;gt;
  &amp;lt;Directory &amp;#34;/var/www/cgi-bin&amp;#34;&amp;gt;
    SSLOptions +StdEnvVars
  &amp;lt;/Directory&amp;gt;
  BrowserMatch &amp;#34;MSIE [2-5]&amp;#34; nokeepalive ssl-unclean-shutdown downgrade-1.0 force-response-1.0
  CustomLog /outlog/WEB/httpd/default-request_ssl.log &amp;#34;%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \&amp;#34;%r\&amp;#34; %b&amp;#34;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;vhost-centos8conf&#34;&gt;vhost-centos8.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName centos8

  RewriteEngine On
  RewriteCond %{HTTPS} !=On [NC]
  RewriteRule /(.*) https://centos8/$1 [P,L]
  #RewriteCond %{HTTP:Upgrade} =websocket [NC]
  #RewriteRule /(.*) wss://centos8/$1 [P,L]
  #RewriteCond %{HTTP:Upgrade} !=websocket [NC]
  #RewriteRule /(.*) https://centos8/$1 [P,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName centos8

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/cockpit/ws-certs.d/centos8.crt
  SSLCertificateKeyFile /etc/cockpit/ws-certs.d/centos8.key

  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/centos8-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/centos8-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  ProxyRequests Off
  ProxyPreserveHost On
  # AH01961: SSL Proxy requested for centos8:443 but not enabled [Hint: SSLProxyEngine]
  SSLProxyEngine On

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;
  RequestHeader set X-Forwarded-Proto https

  &amp;lt;Proxy balancer://cluster1&amp;gt;
    BalancerMember https://127.0.0.1:8000
  &amp;lt;/Proxy&amp;gt;
  
  ProxyPass / balancer://cluster1/ stickysession=JSESSIONID|jsessionid
  ProxyPassReverse / balancer://cluster1/

  RewriteEngine On
  RewriteCond %{HTTP:Upgrade} =websocket [NC]
  RewriteRule /(.*)           wss://127.0.0.1:8000/$1 [P,L]
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;vhost-nexusconf&#34;&gt;vhost-nexus.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName nexus

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://nexus.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName nexus

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/nexus.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/nexus.key

  RewriteEngine On
  RewriteRule /(.*) https://nexus.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

### mgkim.net

&amp;lt;VirtualHost *:80&amp;gt;
  ServerName nexus.mgkim.net

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://%{HTTP_HOST}/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName nexus.mgkim.net

  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/nexus.mgkim.net_ssl-error.log.%Y-%m-%d 86400 +540%&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/nexus.mgkim.net_ssl-access.log.%Y-%m-%d 86400 +540%&amp;#34; combined

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/STAR.mgkim.net.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/STAR.mgkim.net.key

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  ProxyRequests Off
  ProxyPreserveHost On

  &amp;lt;Proxy *&amp;gt;
    Require all granted
  &amp;lt;/Proxy&amp;gt;

  ProxyPass / http://127.0.0.1:8100/
  ProxyPassReverse / http://127.0.0.1:8100/
  RequestHeader set X-Forwarded-Proto &amp;#34;https&amp;#34;
  #ProxyPassMatch ^/(.*)$ http://127.0.0.1:8100/$1
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;vhost-gitlabconf&#34;&gt;vhost-gitlab.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName gitlab

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://gitlab.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName gitlab

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/gitlab.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/gitlab.key

  RewriteEngine On
  RewriteRule /(.*) https://gitlab.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

### mgkim.net

&amp;lt;VirtualHost *:80&amp;gt;
  ServerName gitlab.mgkim.net

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://%{HTTP_HOST}/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName gitlab.mgkim.net

  DocumentRoot &amp;#34;/opt/gitlab/embedded/service/gitlab-rails/public&amp;#34;
  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/gitlab.mgkim.net_ssl-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/gitlab.mgkim.net_ssl-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/STAR.mgkim.net.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/STAR.mgkim.net.key

  ProxyRequests Off
  ProxyPreserveHost On

  &amp;lt;Proxy gitlab&amp;gt;
    Require all granted
  &amp;lt;/Proxy&amp;gt;

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  ProxyPass / http://127.0.0.1:8200/
  ProxyPassReverse / http://127.0.0.1:8200/
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;vhost-jenkinsconf&#34;&gt;vhost-jenkins.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName jenkins

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteCond %{REQUEST_URI} ^/(computer)/.*$
  RewriteRule /(.*) http://localhost:8400/$1 [QSA,P,L]
  RewriteCond %{REQUEST_URI} ^/(wsagents)/.*$
  RewriteRule /(.*) ws://localhost:8400/$1 [QSA,P,L]

  RewriteRule /(.*) https://jenkins.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName jenkins

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/jenkins.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/jenkins.key

  RewriteEngine On
  RewriteRule /(.*) https://jenkins.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

### mgkim.net

&amp;lt;VirtualHost *:80&amp;gt;
  ServerName jenkins.mgkim.net

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteCond %{REQUEST_URI} ^/(computer)/.*$
  RewriteRule /(.*) http://localhost:8400/$1 [QSA,P,L]
  RewriteCond %{REQUEST_URI} ^/(wsagents)/.*$
  RewriteRule /(.*) ws://localhost:8400/$1 [QSA,P,L]

  RewriteRule /(.*) https://jenkins.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName jenkins.mgkim.net

  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/jenkins.mgkim.net_ssl-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/jenkins.mgkim.net_ssl-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/STAR.mgkim.net.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/STAR.mgkim.net.key

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  RewriteEngine On
  RewriteCond %{HTTP:Upgrade} =websocket [NC]
  RewriteRule /(.*) ws://localhost:8400/$1 [P,L]
  RewriteCond %{HTTP:Upgrade} !=websocket [NC]
  RewriteRule /(.*) http://localhost:8400/$1 [P,L]
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;vhost-dlogconf&#34;&gt;vhost-dlog.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName dlog

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://dlog.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName dlog

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/dlog.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/dlog.key

  RewriteEngine On
  RewriteRule /(.*) https://dlog.mgkim.net/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

### mgkim.net

&amp;lt;VirtualHost *:80&amp;gt;
  ServerName dlog.mgkim.net

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://%{HTTP_HOST}/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:443&amp;gt;
  ServerName dlog.mgkim.net

  #DocumentRoot &amp;#34;/opt/gitlab/embedded/service/gitlab-rails/public&amp;#34;
  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/dlog.mgkim.net_ssl-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/dlog.mgkim.net_ssl-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  SSLEngine On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile /etc/httpd/conf.d/certs/STAR.mgkim.net.crt
  SSLCertificateKeyFile /etc/httpd/conf.d/certs/STAR.mgkim.net.key

  ProxyRequests Off
  ProxyPreserveHost On

  &amp;lt;Proxy gitlab&amp;gt;
    Require all granted
  &amp;lt;/Proxy&amp;gt;

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  ProxyPass / http://127.0.0.1:1313/
  ProxyPassReverse / http://127.0.0.1:1313/
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;vhost-dwwwconf&#34;&gt;vhost-dwww.conf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName dwww

  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/dwww-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/dwww-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  AllowEncodedSlashes On
  # reverse proxy 사용 시 Off
  ProxyRequests Off
  ProxyPreserveHost On
  # BALANCER_WORKER_ROUTE: BalancerMember 의 route 값을 쿠키에 포함 (cluster1, cluster2)
  Header add Set-Cookie &amp;#34;ROUTEID=.%{BALANCER_WORKER_ROUTE}e; path=/&amp;#34; env=BALANCER_ROUTE_CHANGED
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  &amp;lt;Proxy balancer://cluster&amp;gt;
    BalancerMember http://127.0.0.1:7100 route=cluster1
    BalancerMember http://127.0.0.1:7101 route=cluster2
    
    ProxySet stickysession=ROUTEID
    ## lbmethod
    # byrequests: 요청별 분배
    # bytraffic: byte 트래픽 가중치 분배
    # bybusyness: 보류중 요청 분배
    #ProxySet lbmethod=byrequests
  &amp;lt;/Proxy&amp;gt;
  
  ProxyPass / balancer://cluster/
  ProxyPassReverse / balancer://cluster/

&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;connector&#34;&gt;connector&lt;/h3&gt;
&lt;h4 id=&#34;weblogic&#34;&gt;weblogic&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;LoadModule weblogic_module modules/mod_wl_24.so

&amp;lt;IfModule mod_weblogic.c&amp;gt;
  WebLogicCluster IP:PORT,IP:PORT,IP:PORT
  ConnectTimeoutSecs 8
  ConnectRetrySecs 2
  Idempotent OFF
  DynamicServerList OFF
  MatchExpression *
  KeepAliveEnabled OFF
&amp;lt;/IfModule&amp;gt;

&amp;lt;Location /api &amp;gt;
  WLSRequest On
  #SetHandler weblogic-handler
  WebLogicCluster IP:PORT,IP:PORT,IP:PORT
  #Idempotent OFF
&amp;lt;/Location&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;windows&#34;&gt;windows&lt;/h3&gt;
&lt;h4 id=&#34;install-command-apache-lounge&#34;&gt;install command (Apache Lounge)&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;httpd.exe -k install
httpd.exe -k configtest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;configure-1&#34;&gt;configure&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;httpd.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ServerRoot &amp;#34;Z:/www/httpd_2.4.25-win64-VC14/Apache24&amp;#34;

Listen 80

LoadModule access_compat_module modules/mod_access_compat.so
LoadModule actions_module modules/mod_actions.so
LoadModule alias_module modules/mod_alias.so
LoadModule allowmethods_module modules/mod_allowmethods.so
LoadModule asis_module modules/mod_asis.so
LoadModule auth_basic_module modules/mod_auth_basic.so
#LoadModule auth_digest_module modules/mod_auth_digest.so
#LoadModule auth_form_module modules/mod_auth_form.so
#LoadModule authn_anon_module modules/mod_authn_anon.so
LoadModule authn_core_module modules/mod_authn_core.so
#LoadModule authn_dbd_module modules/mod_authn_dbd.so
#LoadModule authn_dbm_module modules/mod_authn_dbm.so
LoadModule authn_file_module modules/mod_authn_file.so
#LoadModule authn_socache_module modules/mod_authn_socache.so
#LoadModule authnz_fcgi_module modules/mod_authnz_fcgi.so
#LoadModule authnz_ldap_module modules/mod_authnz_ldap.so
LoadModule authz_core_module modules/mod_authz_core.so
#LoadModule authz_dbd_module modules/mod_authz_dbd.so
#LoadModule authz_dbm_module modules/mod_authz_dbm.so
LoadModule authz_groupfile_module modules/mod_authz_groupfile.so
LoadModule authz_host_module modules/mod_authz_host.so
#LoadModule authz_owner_module modules/mod_authz_owner.so
LoadModule authz_user_module modules/mod_authz_user.so
LoadModule autoindex_module modules/mod_autoindex.so
#LoadModule buffer_module modules/mod_buffer.so
#LoadModule cache_module modules/mod_cache.so
#LoadModule cache_disk_module modules/mod_cache_disk.so
#LoadModule cache_socache_module modules/mod_cache_socache.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
LoadModule cgi_module modules/mod_cgi.so
#LoadModule charset_lite_module modules/mod_charset_lite.so
#LoadModule data_module modules/mod_data.so
#LoadModule dav_module modules/mod_dav.so
#LoadModule dav_fs_module modules/mod_dav_fs.so
#LoadModule dav_lock_module modules/mod_dav_lock.so
#LoadModule dbd_module modules/mod_dbd.so
#LoadModule deflate_module modules/mod_deflate.so
LoadModule dir_module modules/mod_dir.so
#LoadModule dumpio_module modules/mod_dumpio.so
LoadModule env_module modules/mod_env.so
#LoadModule expires_module modules/mod_expires.so
#LoadModule ext_filter_module modules/mod_ext_filter.so
#LoadModule file_cache_module modules/mod_file_cache.so
#LoadModule filter_module modules/mod_filter.so
#LoadModule http2_module modules/mod_http2.so
LoadModule headers_module modules/mod_headers.so
#LoadModule heartbeat_module modules/mod_heartbeat.so
#LoadModule heartmonitor_module modules/mod_heartmonitor.so
#LoadModule ident_module modules/mod_ident.so
#LoadModule imagemap_module modules/mod_imagemap.so
LoadModule include_module modules/mod_include.so
#LoadModule info_module modules/mod_info.so
LoadModule isapi_module modules/mod_isapi.so
#LoadModule lbmethod_bybusyness_module modules/mod_lbmethod_bybusyness.so
#LoadModule lbmethod_byrequests_module modules/mod_lbmethod_byrequests.so
#LoadModule lbmethod_bytraffic_module modules/mod_lbmethod_bytraffic.so
#LoadModule lbmethod_heartbeat_module modules/mod_lbmethod_heartbeat.so
#LoadModule ldap_module modules/mod_ldap.so
#LoadModule logio_module modules/mod_logio.so
LoadModule log_config_module modules/mod_log_config.so
#LoadModule log_debug_module modules/mod_log_debug.so
#LoadModule log_forensic_module modules/mod_log_forensic.so
#LoadModule lua_module modules/mod_lua.so
#LoadModule macro_module modules/mod_macro.so
LoadModule mime_module modules/mod_mime.so
#LoadModule mime_magic_module modules/mod_mime_magic.so
LoadModule negotiation_module modules/mod_negotiation.so
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_ajp_module modules/mod_proxy_ajp.so
LoadModule proxy_balancer_module modules/mod_proxy_balancer.so
LoadModule proxy_connect_module modules/mod_proxy_connect.so
LoadModule proxy_express_module modules/mod_proxy_express.so
LoadModule proxy_fcgi_module modules/mod_proxy_fcgi.so
LoadModule proxy_ftp_module modules/mod_proxy_ftp.so
LoadModule proxy_hcheck_module modules/mod_proxy_hcheck.so
LoadModule proxy_html_module modules/mod_proxy_html.so
LoadModule proxy_http_module modules/mod_proxy_http.so
#LoadModule proxy_http2_module modules/mod_proxy_http2.so
#LoadModule proxy_scgi_module modules/mod_proxy_scgi.so
#LoadModule proxy_wstunnel_module modules/mod_proxy_wstunnel.so
#LoadModule ratelimit_module modules/mod_ratelimit.so
#LoadModule reflector_module modules/mod_reflector.so
#LoadModule remoteip_module modules/mod_remoteip.so
#LoadModule request_module modules/mod_request.so
#LoadModule reqtimeout_module modules/mod_reqtimeout.so
LoadModule rewrite_module modules/mod_rewrite.so
#LoadModule sed_module modules/mod_sed.so
#LoadModule session_module modules/mod_session.so
#LoadModule session_cookie_module modules/mod_session_cookie.so
#LoadModule session_crypto_module modules/mod_session_crypto.so
#LoadModule session_dbd_module modules/mod_session_dbd.so
LoadModule setenvif_module modules/mod_setenvif.so
#LoadModule slotmem_plain_module modules/mod_slotmem_plain.so
LoadModule slotmem_shm_module modules/mod_slotmem_shm.so
#LoadModule socache_dbm_module modules/mod_socache_dbm.so
#LoadModule socache_memcache_module modules/mod_socache_memcache.so
LoadModule socache_shmcb_module modules/mod_socache_shmcb.so
#LoadModule speling_module modules/mod_speling.so
LoadModule ssl_module modules/mod_ssl.so
#LoadModule status_module modules/mod_status.so
#LoadModule substitute_module modules/mod_substitute.so
#LoadModule unique_id_module modules/mod_unique_id.so
#LoadModule userdir_module modules/mod_userdir.so
#LoadModule usertrack_module modules/mod_usertrack.so
#LoadModule version_module modules/mod_version.so
#LoadModule vhost_alias_module modules/mod_vhost_alias.so
LoadModule watchdog_module modules/mod_watchdog.so
LoadModule xml2enc_module modules/mod_xml2enc.so

&amp;lt;IfModule unixd_module&amp;gt;
  User daemon
  Group daemon
&amp;lt;/IfModule&amp;gt;

ServerAdmin hi@mgkim.net

ServerName mgkim.net:50001

&amp;lt;Directory /&amp;gt;
  AllowOverride none
  Require all denied
&amp;lt;/Directory&amp;gt;

DocumentRoot &amp;#34;Z:/www/20210825_171631&amp;#34;
&amp;lt;Directory &amp;#34;Z:/www/20210825_171631&amp;#34;&amp;gt;
  Options Indexes FollowSymLinks
  AllowOverride None
  Require all granted
&amp;lt;/Directory&amp;gt;

&amp;lt;IfModule dir_module&amp;gt;
  DirectoryIndex index.html
&amp;lt;/IfModule&amp;gt;

&amp;lt;Files &amp;#34;.ht*&amp;#34;&amp;gt;
  Require all denied
&amp;lt;/Files&amp;gt;

ErrorLog &amp;#34;logs/error.log&amp;#34;

LogLevel warn

&amp;lt;IfModule log_config_module&amp;gt;
  LogFormat &amp;#34;%h %l %u %t \&amp;#34;%r\&amp;#34; %&amp;gt;s %b \&amp;#34;%{Referer}i\&amp;#34; \&amp;#34;%{User-Agent}i\&amp;#34;&amp;#34; combined
  LogFormat &amp;#34;%h %l %u %t \&amp;#34;%r\&amp;#34; %&amp;gt;s %b&amp;#34; common

  &amp;lt;IfModule logio_module&amp;gt;
    LogFormat &amp;#34;%h %l %u %t \&amp;#34;%r\&amp;#34; %&amp;gt;s %b \&amp;#34;%{Referer}i\&amp;#34; \&amp;#34;%{User-Agent}i\&amp;#34; %I %O&amp;#34; combinedio
  &amp;lt;/IfModule&amp;gt;
  CustomLog &amp;#34;logs/access.log&amp;#34; common
&amp;lt;/IfModule&amp;gt;

&amp;lt;IfModule alias_module&amp;gt;
  ScriptAlias /cgi-bin/ &amp;#34;c:/Apache24/cgi-bin/&amp;#34;
&amp;lt;/IfModule&amp;gt;

&amp;lt;IfModule headers_module&amp;gt;
  RequestHeader unset Proxy early
&amp;lt;/IfModule&amp;gt;

&amp;lt;IfModule mime_module&amp;gt;
  TypesConfig conf/mime.types
  AddType application/x-compress .Z
  AddType application/x-gzip .gz .tgz
&amp;lt;/IfModule&amp;gt;

### include

Include conf/extra/vhost-dlog.conf
Include conf/extra/ssl.conf

### exclude

#Include conf/extra/httpd-mpm.conf
#Include conf/extra/httpd-multilang-errordoc.conf
#Include conf/extra/httpd-autoindex.conf
#Include conf/extra/httpd-languages.conf
#Include conf/extra/httpd-userdir.conf
#Include conf/extra/httpd-info.conf
#Include conf/extra/httpd-manual.conf
#Include conf/extra/httpd-dav.conf
#Include conf/extra/httpd-default.conf
#&amp;lt;IfModule proxy_html_module&amp;gt;
#  Include conf/extra/proxy-html.conf
#&amp;lt;/IfModule&amp;gt;
&amp;lt;IfModule ssl_module&amp;gt;
  SSLRandomSeed startup builtin
  SSLRandomSeed connect builtin
&amp;lt;/IfModule&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ssl.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Listen 9443
#Listen 443

SSLCipherSuite HIGH:MEDIUM:!MD5:!RC4
SSLProxyCipherSuite HIGH:MEDIUM:!MD5:!RC4

SSLHonorCipherOrder on

SSLProtocol all -SSLv3
SSLProxyProtocol all -SSLv3

SSLPassPhraseDialog  builtin

SSLSessionCache         &amp;#34;shmcb:c:/Apache24/logs/ssl_scache(512000)&amp;#34;
SSLSessionCacheTimeout  300
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;vhost-dlog.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;#&amp;lt;VirtualHost *:80&amp;gt;
#  ServerName vdlog.mgkim.net:80
#
#  RewriteEngine On
#  RewriteCond %{HTTPS} !=On
#  RewriteRule /(.*) https://vdlog.mgkim.net:9443/$1 [QSA,R,L]
#&amp;lt;/VirtualHost&amp;gt;
#
#&amp;lt;VirtualHost *:9443&amp;gt;
#  ServerName vdlog.mgkim.net:9443
#
#  ErrorLog &amp;#34;|bin/rotatelogs.exe logs/vdlog.mgkim.net_ssl-error.log.%Y-%m-%d 86400 +540&amp;#34;
#  CustomLog &amp;#34;|bin/rotatelogs.exe logs/vdlog.mgkim.net_ssl-access.log.%Y-%m-%d 86400 +540&amp;#34; combined
#
#  SSLEngine On
#  SSLProxyEngine On
#  SSLProtocol all -SSLv2
#  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
#  SSLCertificateFile conf/certs/STAR.mgkim.net.crt
#  SSLCertificateKeyFile conf/certs/STAR.mgkim.net.key
#
#  ProxyRequests Off
#  ProxyPreserveHost On
#
#  &amp;lt;Proxy gitlab&amp;gt;
#    Require all granted
#  &amp;lt;/Proxy&amp;gt;
#
#  AllowEncodedSlashes On
#  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;
#
#  ProxyPass / http://127.0.0.1:1313/
#  ProxyPassReverse / http://127.0.0.1:1313/
#&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:80&amp;gt;
  ServerName vdlog.mgkim.net:80
  ServerAlias mgkim.net:80

  ErrorLog &amp;#34;|bin/rotatelogs.exe logs/vdlog.mgkim.net-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|bin/rotatelogs.exe logs/vdlog.mgkim.net-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  ProxyRequests Off
  ProxyPreserveHost On

  &amp;lt;Proxy gitlab&amp;gt;
    Require all granted
  &amp;lt;/Proxy&amp;gt;

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  ProxyPass / http://127.0.0.1:1313/
  ProxyPassReverse / http://127.0.0.1:1313/
&amp;lt;/VirtualHost&amp;gt;



&amp;lt;VirtualHost *:80&amp;gt;
  ServerName vdlog:80

  RewriteEngine On
  RewriteCond %{HTTPS} !=On
  RewriteRule /(.*) https://vdlog:9443/$1 [QSA,R,L]
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:9443&amp;gt;
  ServerName vdlog:9443

  SSLEngine On
  SSLProxyEngine On
  #SSLProxyCheckPeerCN On
  #SSLProxyCheckPeerExpire On
  SSLProtocol all -SSLv2
  SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
  SSLCertificateFile conf/certs/vdlog.crt
  SSLCertificateKeyFile conf/certs/vdlog.key

  RewriteEngine On
  RewriteRule /(.*) https://dlog.mgkim.net:443/$1 [QSA,P,L]
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;openssl&#34;&gt;openssl&lt;/h3&gt;
&lt;h4 id=&#34;인증서-생성하기&#34;&gt;인증서 생성하기&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;개인키(key) 생성&lt;/li&gt;
&lt;li&gt;인증서발급신청서(CSR) 생성&lt;/li&gt;
&lt;li&gt;인증서(CRT) 생성&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;useful&#34;&gt;useful&lt;/h4&gt;
&lt;p&gt;개인키(domain.key)와 인증서(domain.crt) 파일을 동시에 생성하는 스크립트 입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;root@develop /etc/httpd/conf.d/certs&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;$ cat create-cert.sh
&lt;span style=&#34;color:#000&#34;&gt;DOMAIN&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$1&lt;/span&gt;

openssl req -x509 -nodes -days &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;730&lt;/span&gt; -newkey rsa:2048 -keyout &lt;span style=&#34;color:#000&#34;&gt;$DOMAIN&lt;/span&gt;.key -out &lt;span style=&#34;color:#000&#34;&gt;$DOMAIN&lt;/span&gt;.crt -config &amp;lt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;cat &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt;- TEXT
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;[req]
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;distinguished_name = req_distinguished_name
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;x509_extensions = v3_req
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;prompt = no
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;[req_distinguished_name]
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;countryName             = KR
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;stateOrProvinceName     = Seoul
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;localityName            = Seonyudo
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;organizationName        = SPACESOFT
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;organizationalUnitName  = Dev Team
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;CN = $DOMAIN
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;[v3_req]
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;keyUsage = critical, digitalSignature, keyAgreement
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;extendedKeyUsage = serverAuth
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;subjectAltName = @alt_names
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;[alt_names]
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;DNS.1 = $DOMAIN
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;TEXT&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt; -sha256

&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;root@develop /etc/httpd/conf.d/certs&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;selinux&#34;&gt;selinux&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;chcon -Rt httpd_log_t /outlog/WEB
chcon -Rt httpd_sys_content_t /app/WEB/dlog
setsebool -P httpd_can_network_connect on

systemctl restart httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>System: jenkins</title>
      <link>/system/jenkins/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/jenkins/</guid>
      <description>
        
        
        &lt;h3 id=&#34;installation&#34;&gt;installation&lt;/h3&gt;
&lt;h4 id=&#34;start-스크립트&#34;&gt;start 스크립트&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#JAVA_HOME=/prod/java/jdk1.8.0_202&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JAVA_HOME&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/prod/java/openjdk-11.0.2
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;PATH&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$JAVA_HOME&lt;/span&gt;/bin:&lt;span style=&#34;color:#000&#34;&gt;$PATH&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; -Dapp.id=jenkins&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; -Dcom.sun.akuma.Daemon=daemonized&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; -Djava.awt.headless=true&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; -DJENKINS_HOME=/data/PROD/jenkins&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --logfile=/outlog/PROD/jenkins/default.log&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --webroot=/prod/jenkins/jenkins/cache-war&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --daemon&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --httpPort=8400&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --debug=5&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --handlerCountMax=100&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --handlerCountMaxIdle=20&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --accessLoggerClassName=winstone.accesslog.SimpleAccessLogger&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --simpleAccessLogger.format=combined&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JENKINS_ARGS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; --simpleAccessLogger.file=/outlog/PROD/jenkins/access.log&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#JENKINS_ARGS=&amp;#34;${JENKINS_ARGS} --httpsCertificate=/etc/pki/tls/mgkim/jenkins.crt&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#JENKINS_ARGS=&amp;#34;${JENKINS_ARGS} --httpsPrivateKey=/etc/pki/tls/mgkim/jenkins.key&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$1&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt; in
  start&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;starting jenkins&amp;#34;&lt;/span&gt;
    nohup &lt;span style=&#34;color:#000&#34;&gt;$JAVA_HOME&lt;/span&gt;/bin/java &lt;span style=&#34;color:#000&#34;&gt;$JAVA_OPTS&lt;/span&gt; -jar /prod/jenkins/jenkins/jenkins.war &lt;span style=&#34;color:#000&#34;&gt;$JENKINS_ARGS&lt;/span&gt; &amp;gt; /dev/null 2&amp;gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;amp;&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;;&lt;/span&gt;
  stop&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;stopping jenkins&amp;#34;&lt;/span&gt;
    ps -ef &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; grep java &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; grep -v grep &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; grep jenkins &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; awk &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;{ print $2 }&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; xargs &lt;span style=&#34;color:#204a87&#34;&gt;kill&lt;/span&gt; -9 
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;;&lt;/span&gt;
  *&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Usage: &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$0&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt; {start|stop}&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#204a87&#34;&gt;exit&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;;&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;esac&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;systemd-등록&#34;&gt;systemd 등록&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;Unit&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;Description&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;Jenkins
&lt;span style=&#34;color:#000&#34;&gt;After&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;network.target syslog.target

&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;Service&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;Type&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;forking
&lt;span style=&#34;color:#000&#34;&gt;User&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;jenkins
&lt;span style=&#34;color:#000&#34;&gt;Group&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;ci

&lt;span style=&#34;color:#000&#34;&gt;ExecStart&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/prod/jenkins/jenkins.sh start
&lt;span style=&#34;color:#000&#34;&gt;ExecStop&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/prod/jenkins/jenkins.sh stop

&lt;span style=&#34;color:#000&#34;&gt;Restart&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;on-abort

&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;Install&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;WantedBy&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h3 id=&#34;plugins&#34;&gt;plugins&lt;/h3&gt;
&lt;h4 id=&#34;publish-over-ssh&#34;&gt;Publish Over SSH&lt;/h4&gt;
&lt;p&gt;mvn 빌드 후 생성된 artifact 파일을 sftp 로 전송하고 ssh 로 command 를 실행하는 기능을 사용할 수 있습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;프로젝트 구성에서 &lt;code&gt;빌드 후 조치&lt;/code&gt; &amp;gt; &lt;code&gt;Send build artifacts over SSH&lt;/code&gt; 선택&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Add Server&lt;/code&gt; 버튼을 클릭하여 &lt;code&gt;SSH Server&lt;/code&gt; 선택
&lt;ul&gt;
&lt;li&gt;선택되는 서버는 빌드 결과물인 artifact 파일을 전송하고, ssh 로 command 를 실행할 서버를 의미함&lt;/li&gt;
&lt;li&gt;아래 &lt;code&gt;Transfer Set&lt;/code&gt; 에 설정되는 &lt;code&gt;Exec command&lt;/code&gt;의 내용이 빌드 로그에 출력되도록 &lt;code&gt;고급&lt;/code&gt;버튼을 눌러 &lt;code&gt;Verbose output in console&lt;/code&gt; 을 선택할 것&lt;br/&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[INFO] ------------------------------------------------------------------------
SSH: Connecting from host [i9-9900K]
SSH: Connecting with configuration [tomcat@develop] ...
SSH: Creating session: username [tomcat], hostname [develop], port [22]
SSH: Connecting session ...
SSH: Connected
SSH: Opening SFTP channel ...
SSH: SFTP channel open
SSH: Connecting SFTP channel ...
SSH: Connected
SSH: cd [/app/WAS/prototype]
SSH: OK
SSH: cd [/app/WAS/prototype]
SSH: OK
SSH: cd [boot-www]
SSH: OK
SSH: put [boot-www-0.0.1-SNAPSHOT.war]
SSH: OK
SSH: cd [/app/WAS/prototype]
SSH: OK
SSH: cd [boot-www]
SSH: OK
SSH: put [deploy.sh]
SSH: OK
SSH: Opening exec channel ...
SSH: EXEC: channel open
SSH: EXEC: STDOUT/STDERR from command [chmod u+x /app/WAS/prototype/boot-www/deploy.sh

/app/WAS/prototype/boot-www/deploy.sh restart] ...
SSH: EXEC: connected
Stopping boot-www
stopped boot-www
Starting boot-www
SSH: EXEC: completed after 1,202 ms
SSH: Disconnecting configuration [tomcat@develop] ...
SSH: Transferred 2 ( 1 + 1 ) file(s)
Finished: SUCCESS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Add Transfer Set&lt;/code&gt; 버튼을 클릭하여 &lt;code&gt;Transfers Set&lt;/code&gt; 입력
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Source files&lt;/code&gt;: 전송할 파일을 입력 (예: **/target/*.war)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Remove prefix&lt;/code&gt;: 전송시 source files 의 파일경로를 제거 (예: ./boot-www/target/)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Remote directory&lt;/code&gt;: &amp;hellip; (예: boot-www 라고 입력하면 /app/WAS/prototype/boot-www 이렇게 base-dir 하위에 디렉토리를 생성하여 source files 가 전송됨)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Exec command&lt;/code&gt;: 파일 전송 후 실행할 command 를 입력 (배포 후 container 재시작을 하기 위한 command 입력)&lt;/li&gt;
&lt;li&gt;참고로 war 파일과 was 재시작을 위한 sh 파일을 같이 전송해야하는 경우에는 &lt;code&gt;Transfers Set&lt;/code&gt;을 2개로 나눠서 전송하는 방법도 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;SSH Server 추가하기&lt;/h4&gt;

    &lt;p&gt;&lt;code&gt;SSH Server&lt;/code&gt; 는 &lt;code&gt;Jenkins 관리&lt;/code&gt; &amp;gt; &lt;code&gt;시스템 설정&lt;/code&gt; &amp;gt; &lt;code&gt;Publish over SSH&lt;/code&gt; 에서 추가를 해야 선택하는 항목이 나옵니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Passphrase&lt;/code&gt;: 시스템 계정 jenkins 로 생성한 rsa 키의 비밀번호를 입력합니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Path to key&lt;/code&gt;: rsa 키 쌍 중 개인키의 경로를 입력합니다. (/home/jenkins/.ssh/id_rsa)
jenkins node 구성에서 slave-node 을 추가했다면 jenkins 를 호스팅하고 있는 서버에서 생성한 개인키 파일에 접근할 수 없기에 &lt;code&gt;Key&lt;/code&gt; 항목에 개인키를 설정하여 사용해야 함&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Key&lt;/code&gt;: 개인키의 경로를 입력하지 않을 경우 개인키의 내용 추가로 설정할 수 있습니다. (키 경로 입력 시 생략할 것)&lt;br/&gt;
개인키의 형태는 다음과 같으며 참고로 jenkins 에 설정할때에는 BEGIN 부터 END 까지 모두 입력해야 합니다.
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-128-CBC,BB513C74CDF53133B6B805F08C716E14
&lt;p&gt;lqXA6gIhaf3ztU1SoQVGvUtLWtXqINxbGzNfau3v+DIHRKJjVY1JvBj2mmADIxEq
&amp;hellip;
YqTPbiAOgnHAD9CgWg/v55Zl9zLrPKLakCJPYzGNrLo2BJ4qXR1ZX371JEsXq8tq
&amp;mdash;&amp;ndash;END RSA PRIVATE KEY&amp;mdash;&amp;ndash;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/p&gt;
&lt;li&gt;&lt;code&gt;SSH Servers&lt;/code&gt;에 추가 버튼을 클릭하여 hostname, username, remote directory 입력합니다.&lt;br/&gt;
입력이 끝나고 &lt;code&gt;Test Configuration&lt;/code&gt; 버튼을 클릭하여 테스트를 해봅니다.&lt;/li&gt;
&lt;/ul&gt;


&lt;/div&gt;

&lt;h4 id=&#34;gitlab-plugin&#34;&gt;GitLab Plugin&lt;/h4&gt;
&lt;p&gt;gitlab 과 연동하기 위한 플러그인입니다.&lt;/p&gt;
&lt;p&gt;gitlab 에서 push 이벤트가 발생했을 경우 jenkins 에서 build 가 실행되도록 하기위해 사용됩니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;gitlab 에서 &lt;code&gt;User Settings&lt;/code&gt; &amp;gt; &lt;code&gt;Access Tokens&lt;/code&gt; 메뉴에서 &lt;code&gt;Access Token&lt;/code&gt; 을 생성할 것&lt;/li&gt;
&lt;li&gt;jenkins 플러그인 관리에서 &lt;code&gt;GitLab Plugin&lt;/code&gt; 을 검색하고 설치&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jenkins 관리&lt;/code&gt; &amp;gt; &lt;code&gt;Manage Credentials&lt;/code&gt; 로 이동하여 &lt;code&gt;Access Token&lt;/code&gt;을 추가함&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jenkins 관리&lt;/code&gt; &amp;gt; &lt;code&gt;시스템 설정&lt;/code&gt; 메뉴로 이동하여 &lt;code&gt;Gitlab&lt;/code&gt; 섹션으로 이동
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Credentials&lt;/code&gt;: &lt;code&gt;Manage Credentials&lt;/code&gt;에서 추가한 &lt;code&gt;Gitlab API token&lt;/code&gt; 을 선택하고 &lt;code&gt;Test Connection&lt;/code&gt; 버튼을 클릭하여 동작을 확인함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;프로젝트의 &lt;code&gt;구성&lt;/code&gt;에서 &lt;code&gt;빌드 유발&lt;/code&gt; 섹션으로 이동
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Build when a change is pushed to GitLab. GitLab webhook URL: http://jenkins/project/boot-www&lt;/code&gt;: 이 항목을 체크하면 세부 항목들이 나타남. (세부 항목에 대해 모르면 기본 체크 상태 유지)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Secret token&lt;/code&gt;: (이 항목은 &lt;code&gt;고급&lt;/code&gt; 버튼을 클릭해야 나타남) &lt;code&gt;Generate&lt;/code&gt; 버튼을 클릭하면 값이 생성됨.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;GitLab webhook URL, Secret token 항목을 gitlab Webhooks 에 설정하기&lt;/h4&gt;

    &lt;p&gt;아래 2개의 항목은 gitlab 의 프로젝트 설정의 &lt;code&gt;Webhooks&lt;/code&gt; 에서 설정해야하는 값입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GitLab webhook URL&lt;/code&gt;: 이 값은 체크항목에 레이블로 표시되어있는 &lt;code&gt;http://jenkins/project/boot-www&lt;/code&gt; 이며, &lt;code&gt;Webhooks&lt;/code&gt; 의 &lt;code&gt;URL&lt;/code&gt; 에 입력해야 하는 값.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Secret token&lt;/code&gt;: 이 값은 &lt;code&gt;Generate&lt;/code&gt; 버튼 클릭으로 생성되며, &lt;code&gt;Webhooks&lt;/code&gt; 의 &lt;code&gt;Secret Token&lt;/code&gt; 에 입력해야 하는 값.&lt;/li&gt;
&lt;/ul&gt;


&lt;/div&gt;

&lt;h4 id=&#34;github-integration-plugin&#34;&gt;GitHub Integration Plugin&lt;/h4&gt;
&lt;p&gt;github 저장소에서 webhook 으로 push 이벤트를 받아서 jenkins build가 실행되도록 할 때 사용합니다.&lt;/p&gt;
&lt;p&gt;활용법: &lt;a href=&#34;#github-연결&#34;&gt;github 연결&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;build&#34;&gt;build&lt;/h3&gt;
&lt;h4 id=&#34;분산-빌드-환경&#34;&gt;분산 빌드 환경&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;jenkins 관리&lt;/code&gt; 에서 &lt;code&gt;노드 관리&lt;/code&gt; 메뉴로 이동하면 &lt;code&gt;분산 빌드 환경&lt;/code&gt;을 위한 노드를 추가할 수 있습니다.&lt;/p&gt;
&lt;p&gt;이 환경을 구성하면 jenkins 가 설치된 서버에서는 더 이상 빌드를 수행하지 않고 추가된 노드에서 빌드가 수행됩니다.&lt;/p&gt;
&lt;p&gt;다음은 windows 환경의 slave-node를 추가하는 예시입니다.
(jenkins 는 master-node이며, 추가되는 node들은 slave-node 입니다.)&lt;/p&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;주요 설정 항목&lt;/h4&gt;

    &lt;ul&gt;
&lt;li&gt;&lt;code&gt;Name&lt;/code&gt;: slave-node 이름 (설명에는 &lt;code&gt;9900K&lt;/code&gt; 로 했습니다.)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Remote root directory&lt;/code&gt;: slave-node 의 workspace 디렉토리를 지정합니다.
참고로 &lt;code&gt;Z:\jenkins&lt;/code&gt; 라고 입력하면 빌드 시 &lt;code&gt;Z:\jenkins\workspace\boot-www&lt;/code&gt; 디렉토리가 생성됩니다. (&lt;code&gt;boot-www&lt;/code&gt; 는 jenkins 프로젝트명 입니다.)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Labels&lt;/code&gt;: jenkins 프로젝트에 label 을 설정할 수 있으며, 해당 프로젝트에 포함된 label 과 매핑된 노드에서 빌드가 수행됨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Launch method&lt;/code&gt;: &lt;code&gt;Use WebSocket&lt;/code&gt; 항목을 체크할 것&lt;/li&gt;
&lt;/ul&gt;


&lt;/div&gt;

&lt;p&gt;slave-node 를 추가하면 slave-node에서 jenkins 와 연결하는 방법을 알려줍니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Connect agent to Jenkins one of these ways:

Java Web Start is not available for the JVM version running Jenkins

Run from agent command line:

javaws http://jenkins/computer/9900K/jenkins-agent.jnlp
Or if the agent is headless:

java -jar agent.jar -jnlpUrl http://jenkins/computer/9900K/jenkins-agent.jnlp -workDir &amp;#34;Z:\jenkins&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;slave-node 와 jenkins 연결하기&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Z:\jenkins&lt;/code&gt; 에 agent.jar 를 다운로드 받음&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Z:\jenkins\start-agent.cmd&lt;/code&gt; 파일을 생성하고 아래 내용으로 설정&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;set JAVA_HOME=Z:\develop\java\openjdk-11.0.2
set PATH=%JAVA_HOME%\bin;%PATH%

java -jar agent.jar -jnlpUrl http://jenkins/computer/9900K/jenkins-agent.jnlp -workDir &amp;#34;Z:\jenkins&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;start-agent.cmd&lt;/code&gt; 실행 후 아래와 같이 console 로그가 출력되면 정상 실행&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;Z:\jenkins&amp;gt;set JAVA_HOME=Z:\develop\java\openjdk-11.0.2

Z:\jenkins&amp;gt;set PATH=Z:\develop\java\openjdk-11.0.2\bin;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\Users\Administrator\AppData\Local\Microsoft\WindowsApps;Z:\oracle\ora12c_32bit\client_12_1\bin;Z:\develop\java\openjdk-11.0.2\bin;Z:\develop\build\maven-3.6.3\bin;C:\Users\Administrator\AppData\Local\Programs\Microsoft VS Code\bin;Z:\develop\hugo\hugo-ext-0.87.0;C:\Users\Administrator\AppData\Roaming\npm;Z:\www\httpd_2.4.25-win64-VC14\openssl-0.9.8e_X64\bin;

Z:\jenkins&amp;gt;java -jar agent.jar -jnlpUrl http://jenkins/computer/9900K/jenkins-agent.jnlp -workDir &amp;#34;Z:\jenkins&amp;#34;
9월 13, 2021 11:55:53 오후 org.jenkinsci.remoting.engine.WorkDirManager initializeWorkDir
INFO: Using Z:\jenkins\remoting as a remoting work directory
9월 13, 2021 11:55:53 오후 org.jenkinsci.remoting.engine.WorkDirManager setupLogging
INFO: Both error and output logs will be printed to Z:\jenkins\remoting
9월 13, 2021 11:55:53 오후 hudson.remoting.jnlp.Main createEngine
INFO: Setting up agent: 9900K
9월 13, 2021 11:55:53 오후 hudson.remoting.jnlp.Main$CuiListener &amp;lt;init&amp;gt;
INFO: Jenkins agent is running in headless mode.
9월 13, 2021 11:55:53 오후 hudson.remoting.Engine startEngine
INFO: Using Remoting version: 4.10
9월 13, 2021 11:55:53 오후 org.jenkinsci.remoting.engine.WorkDirManager initializeWorkDir
INFO: Using Z:\jenkins\remoting as a remoting work directory
9월 13, 2021 11:55:53 오후 hudson.remoting.jnlp.Main$CuiListener status
INFO: WebSocket connection open
9월 13, 2021 11:55:53 오후 hudson.remoting.jnlp.Main$CuiListener status
INFO: Connected
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;참고로 여기서 연결이 안되는 상황이 발생함&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;agent.jar 실행 시 jenkins 에 접속할 때 websocket 으로 접속을 하게되는데 ssl 이 적용된 프로토콜 https, wss 은 handshake 오류가 발생함&lt;br/&gt;
httpd 설정에 http 를 https 로 redirect 하도록 mod_rewrite 를 설정했는데 오류로 인해 rewrite 설정은 제거함&lt;br/&gt;&lt;/li&gt;
&lt;li&gt;jenkins 의 가상호스트 설정은 다음과 같습니다.
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName jenkins

  ErrorLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/jenkins-error.log.%Y-%m-%d 86400 +540&amp;#34;
  CustomLog &amp;#34;|/usr/sbin/rotatelogs /outlog/WEB/httpd/jenkins-access.log.%Y-%m-%d 86400 +540&amp;#34; combined

  AllowEncodedSlashes On
  Header set Access-Control-Allow-Origin &amp;#34;*&amp;#34;

  RewriteEngine On
  RewriteCond %{HTTP:Upgrade} =websocket [NC]
  RewriteRule /(.*) ws://localhost:8400/$1 [P,L]
  RewriteCond %{HTTP:Upgrade} !=websocket [NC]
  RewriteRule /(.*) http://localhost:8400/$1 [P,L]
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jenkins 프로젝트에 label 을 추가된 slave-node 의 label 로 변경하고 빌드를 실행하면 &lt;code&gt;Z:\jenkins\workspace\&lt;/code&gt; 디렉토리에 jenkins 프로젝트 디렉토리가 생성되고 &lt;code&gt;소스 코드 관리&lt;/code&gt;를 설정했을 경우 소스코드가 checkout 되어있을 것입니다.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;이후 &lt;code&gt;Publish Over SSH&lt;/code&gt; 플러그인을 사용하여 was 서버에 war 파일을 publish 를 하고 was 를 재시작하는 command 를 ssh 로 수행하도록 설정하면 됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;github-연결&#34;&gt;github 연결&lt;/h4&gt;
&lt;p&gt;required plugin: &lt;code&gt;GitHub Integration Plugin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;jenkins 프로젝트의 &lt;code&gt;소스 코드 관리&lt;/code&gt; 섹션에서 github 저장소와 연결하는 설정입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Repository URL&lt;/code&gt;: github 의 프로젝트 저장소 url 을 입력 &lt;code&gt;https://github.com/lislroow/spring.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Credentials&lt;/code&gt;: github 에서 &lt;code&gt;Personal access tokens&lt;/code&gt; 을 발급받고 jenkins 에 등록하고 선택&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;github 에서 Personal access tokens 발급 및 jenkins Credentials 등록&lt;/h4&gt;

    &lt;ol&gt;
&lt;li&gt;github 로그인 후 &lt;code&gt;Settings&lt;/code&gt; &amp;gt; &lt;code&gt;Developer settings&lt;/code&gt; &amp;gt; &lt;code&gt;Personal access tokens&lt;/code&gt; 메뉴 이동&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Generate new token&lt;/code&gt; 버튼 클릭 후 &lt;code&gt;Expiration&lt;/code&gt; 과 &lt;code&gt;Select scopes&lt;/code&gt; 를 선택&lt;br/&gt;
&lt;code&gt;Select scopes&lt;/code&gt;은 &lt;code&gt;repo&lt;/code&gt;, &lt;code&gt;admin:repo_hook&lt;/code&gt;를 전체 선택&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Generate token&lt;/code&gt; 버튼 클릭으로 토큰을 생성
&lt;ul&gt;
&lt;li&gt;생성된 토큰(access token) 값은 다시 확인할 수 없습니다. (재생성해야하는 것으로 알고 있음)&lt;/li&gt;
&lt;li&gt;jenkins 에 등록될 access token 은 github 의 id 와 함께 사용되는 패스워드입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;jenkins &lt;code&gt;Manage Credentials&lt;/code&gt; 에서 &lt;code&gt;Add Credentials&lt;/code&gt; 을 합니다.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Kind&lt;/code&gt;: &lt;code&gt;Username with password&lt;/code&gt; 를 선택합니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Username&lt;/code&gt;: github 에 로그인할 때 사용하는 id 를 입력합니다. (&lt;code&gt;lislroow&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Password&lt;/code&gt;: github 에서 생성한 토큰(access token)을 입력합니다. (&lt;code&gt;ghp_***생략***&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;


&lt;/div&gt;

&lt;p&gt;jenkins 프로젝트의 &lt;code&gt;빌드 유발&lt;/code&gt; 섹션에서 github 저장소에 push 이벤트를 받을 수 있도록 설정합니다.
&lt;code&gt;GitHub hook trigger for GITScm polling&lt;/code&gt; 체크&lt;/p&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;github 에서 push 이벤트 jenkins 로 전송하기&lt;/h4&gt;

    &lt;ol&gt;
&lt;li&gt;github 의 프로젝트로 이동한 다음 &lt;code&gt;Settings&lt;/code&gt; &amp;gt; &lt;code&gt;Webhooks&lt;/code&gt; 메뉴로 이동합니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Add webhook&lt;/code&gt; 버튼을 클릭하여 다음을 입력합니다.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Payload URL&lt;/code&gt;: &lt;code&gt;http://{jenkins-domain}/github-webhook/&lt;/code&gt; 으로 입력합니다.&lt;br/&gt;
참고로 uri 는 반드시 &lt;code&gt;/github-webhook/&lt;/code&gt; 으로 되어야 합니다. (&lt;code&gt;/github-webhook&lt;/code&gt; 으로하면 302 를 응답받고 실패합니다.)&lt;br/&gt;
&lt;code&gt;Payload URL&lt;/code&gt; 을 입력하게되면 github 저장소에 push 이벤트가 발생할 때 해당 URL 을 호출하게되고, jenkins 는 이 http 요청을 받고 build 를 실행하게 되는 형태입니다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Content type&lt;/code&gt;: &lt;code&gt;application/json&lt;/code&gt; 으로 설정&lt;/li&gt;
&lt;li&gt;저장 후 소스코드를 수정하고 commit;push 를 하게되면 추가된 webhook 항목을 클릭했을 때 &lt;code&gt;Recent Deliveries&lt;/code&gt; 를 볼 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;


&lt;/div&gt;


      </description>
    </item>
    
    <item>
      <title>System: kibana</title>
      <link>/system/kibana/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/kibana/</guid>
      <description>
        
        
        &lt;h5 id=&#34;_catindices&#34;&gt;_cat/indices&lt;/h5&gt;
&lt;p&gt;인덱스 목록, index명 desc 정렬, index 컬럼만 조회&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;GET _cat/indices?v&amp;amp;s=index:desc&amp;amp;h=index
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>System: linux</title>
      <link>/system/linux/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/linux/</guid>
      <description>
        
        
        &lt;h2 id=&#34;systemd&#34;&gt;systemd&lt;/h2&gt;
&lt;p&gt;systemd 는 centos 7 부터 포함된 기능입니다.&lt;/p&gt;
&lt;p&gt;/etc/init.d 에서 서비스를 관리했던 것을 systemd 로 관리하게 되었습니다.&lt;/p&gt;
&lt;p&gt;실행 명령어는 systemctl 입니다.&lt;/p&gt;
&lt;h3 id=&#34;서비스-생성&#34;&gt;서비스 생성&lt;/h3&gt;
&lt;p&gt;새로운 서비스를 등록할 경우 아래 템플릿으로 파일을 생성합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;파일경로: &lt;code&gt;/etc/systemd/system/{서비스명}.service&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[root@develop /etc/systemd/system]$ cat jenkins.service
[Unit]
Description=Jenkins
After=network.target syslog.target

[Service]
Type=forking
User=jenkins
Group=ci

ExecStart=/prod/jenkins/jenkins.sh start
ExecStop=/prod/jenkins/jenkins.sh stop

Restart=on-abort

[Install]
WantedBy=multi-user.target
[root@develop /etc/systemd/system]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;yum 으로 패키지 설치시 systemctl 에 등록된 정보를 아래와 같은 방법으로 확인합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[root@develop /etc/systemd/system]$ systemctl --help
systemctl [OPTIONS...] {COMMAND} ...

Unit Commands:
  list-units [PATTERN...]         List loaded units

[root@develop /etc/systemd/system]$ systemctl list-units | grep httpd
httpd.service                                                                        loaded active running   The Apache HTTP Server
[root@develop /etc/systemd/system]$
[root@develop /etc/systemd/system]$ systemctl status httpd.service
● httpd.service - The Apache HTTP Server
   Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled; vendor preset: disabled)
[root@develop /etc/systemd/system]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;httpd 의 서비스 파일은 &lt;code&gt;/usr/lib/systemd/system/httpd.service&lt;/code&gt; 에 있음을 확인할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&#34;서비스-등록&#34;&gt;서비스 등록&lt;/h3&gt;
&lt;p&gt;서비스 파일을 생성한 다음 systemctl 에 등록을 해야 합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[root@develop /etc/systemd/system]$ systemctl --help | grep reload
     --no-reload      Don&amp;#39;t reload daemon after en-/dis-abling unit files
  reload NAME...                  Reload one or more units
  reload-or-restart NAME...       Reload one or more units if possible,
  reload-or-try-restart NAME...   Reload one or more units if possible,
  daemon-reload                   Reload systemd manager configuration
[root@develop /etc/systemd/system]$
[root@develop /etc/systemd/system]$ systemctl daemon-reload
[root@develop /etc/systemd/system]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;systemctl daemon-reload&lt;/code&gt; 명령으로 reload 를 합니다.&lt;/p&gt;
&lt;h3 id=&#34;서비스-활성화&#34;&gt;서비스 활성화&lt;/h3&gt;
&lt;p&gt;서비스 활성화 상태로 설정을 하게되면 os booting 시 자동으로 실행이 됩니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[root@develop /etc/systemd/system]$ systemctl --help | grep enable
     --preset-mode=   Apply only enable, only disable, or all presets
  enable NAME...                  Enable one or more unit files
  reenable NAME...                Reenable one or more unit files
  is-enabled NAME...              Check whether unit files are enabled
[root@develop /etc/systemd/system]$
[root@develop /etc/systemd/system]$ systemctl is-enabled orcl@oracledb.service
enabled
[root@develop /etc/systemd/system]$ systemctl is-enabled httpd.service
enabled
[root@develop /etc/systemd/system]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;systemctl enable {서비스}&lt;/code&gt; 명령으로 enabled 상태로 설정합니다.&lt;/p&gt;
&lt;h2 id=&#34;network&#34;&gt;network&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;root@develop ~&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;$ cat /etc/sysconfig/network-scripts/ifcfg-ens32
&lt;span style=&#34;color:#000&#34;&gt;TYPE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Ethernet&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;PROXY_METHOD&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;BROWSER_ONLY&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;no&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;BOOTPROTO&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;DEFROUTE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;yes&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPV4_FAILURE_FATAL&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;no&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPV6INIT&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;no&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPV6_AUTOCONF&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;yes&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPV6_DEFROUTE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;yes&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPV6_FAILURE_FATAL&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;no&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPV6_ADDR_GEN_MODE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;stable-privacy&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;NAME&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ens32&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;UUID&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;d18679f4-c760-4621-b73a-8e7b513594a7&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;DEVICE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;ens32&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;ONBOOT&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;yes&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;IPADDR&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;172.28.200.20&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;PREFIX&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;24&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;GATEWAY&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;172.28.200.2&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;DNS1&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;8.8.8.8&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[&lt;/span&gt;root@develop ~&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;]&lt;/span&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;hostname&#34;&gt;hostname&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[root@develop ~]$ hostnamectl set-hostname develop
[root@develop ~]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;shell&#34;&gt;shell&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[ -z ] : 문자열의 길이가 0이면 참
[ -n ] : 문자열의 길이가 0이 아니면 참
[ -eq ] : 값이 같으면 참
[ -ne ] : 값이 다르면 참
[ -gt ] :  값1 &amp;gt; 값2
[ -ge ] : 값1  &amp;gt;= 값2
[ -lt ] : 값1 &amp;lt; 값2
[ -le ] : 값1 &amp;lt;= 값2
[ -a ] : &amp;amp;&amp;amp;연산과 동일 and 연산
[ -o ] : ||연산과 동일 xor 연산
[ -d ] : 파일이 디렉토리면 참
[ -e ] : 파일이 있으면 참
[ -L ] : 파일이 심볼릭 링크면 참
[ -r ] : 파일이 읽기 가능하면 참
[ -s ] : 파일의 크기가 0 보다 크면 참
[ -w ] : 파일이 쓰기 가능하면 참
[ -x ] : 파일이 실행 가능하면 참
[ 파일1 -nt 파일2 ] : 파일1이 파일2보다 최신파일이면 참
[ 파일1 -ot 파일2 ] : 파일1이 파일2보다 이전파일이면 참
[ 파일1 -ef 파일2 ] : 파일1이 파일2랑 같은 파일이면 참
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>System: openssh</title>
      <link>/system/openssh/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/openssh/</guid>
      <description>
        
        
        &lt;h2 id=&#34;패키지-확인&#34;&gt;패키지 확인&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[root@develop ~]$ yum list *openssh*
Loaded plugins: fastestmirror, langpacks
Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast
Loading mirror speeds from cached hostfile
 * base: mirror.kakao.com
 * epel: ftp.yz.yamagata-u.ac.jp
 * extras: mirror.kakao.com
 * updates: mirror.kakao.com
Installed Packages
openssh.x86_64                                               7.4p1-21.el7                                                @anaconda
[root@develop ~]$
[root@develop ~]$ rpm -ql openssh.x86_64
/etc/ssh
/etc/ssh/moduli
/usr/bin/ssh-keygen

[root@develop ~]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;key-생성&#34;&gt;key 생성&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ssh-keygen&lt;/code&gt; 인자 &lt;code&gt;-t rsa&lt;/code&gt; 는 rsa 타입으로 생성 입니다.
key 생성 경로는 home 디렉토리의 &lt;code&gt;.ssh&lt;/code&gt; 디렉토리에 생성이 됩니다.
&lt;code&gt;passphrase&lt;/code&gt; 는 key 의 비밀번호 입니다.&lt;/p&gt;
&lt;p&gt;key 생성이 되면 &lt;code&gt;.ssh&lt;/code&gt; 디렉토리에는 &lt;code&gt;id_rsa&lt;/code&gt;(개인키), &lt;code&gt;id_rsa.pub&lt;/code&gt;(공개키) 2개의 파일이 있습니다.&lt;/p&gt;
&lt;p&gt;공개키인 &lt;code&gt;id_rsa.pub&lt;/code&gt; 파일의 내용은 SSH로 접속하려는 대상 서버의 시스템계정 홈디렉토리의 .ssh/authorized_keys 파일에 추가하여 사용됩니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;[tomcat@develop ~]$ pwd
/home/tomcat
[tomcat@develop ~]$ ls -al
합계 28
drwx------. 4 tomcat ap    140  9월 13 11:41 .
drwxr-xr-x. 7 root   root   74 11월 22  2020 ..
-rw-------. 1 tomcat ap   1357  9월 13 11:41 .bash_history
-rw-r--r--. 1 tomcat ap     18  4월  1  2020 .bash_logout
-rw-r--r--. 1 tomcat ap    616 12월 24  2020 .bash_profile
-rw-r--r--. 1 tomcat ap    231  4월  1  2020 .bashrc
drwxr-xr-x. 3 tomcat ap     18 12월 24  2020 .cache
drwxr-xr-x. 3 tomcat ap     18 12월 24  2020 .config
-rw-------  1 tomcat ap   1024  9월 13 11:39 .rnd
-rw-------  1 tomcat ap   5762  9월 13 11:39 .viminfo
[tomcat@develop ~]$ ssh-keygen --help
unknown option -- -
usage: ssh-keygen [-q] [-b bits] [-t dsa | ecdsa | ed25519 | rsa | rsa1]
                  [-N new_passphrase] [-C comment] [-f output_keyfile]
       ssh-keygen -p [-P old_passphrase] [-N new_passphrase] [-f keyfile]
       ssh-keygen -i [-m key_format] [-f input_keyfile]
       ssh-keygen -e [-m key_format] [-f input_keyfile]
       ssh-keygen -y [-f input_keyfile]
       ssh-keygen -c [-P passphrase] [-C comment] [-f keyfile]
       ssh-keygen -l [-v] [-E fingerprint_hash] [-f input_keyfile]
       ssh-keygen -B [-f input_keyfile]
       ssh-keygen -D pkcs11
       ssh-keygen -F hostname [-f known_hosts_file] [-l]
       ssh-keygen -H [-f known_hosts_file]
       ssh-keygen -R hostname [-f known_hosts_file]
       ssh-keygen -r hostname [-f input_keyfile] [-g]
       ssh-keygen -G output_file [-v] [-b bits] [-M memory] [-S start_point]
       ssh-keygen -T output_file -f input_file [-v] [-a rounds] [-J num_lines]
                  [-j start_line] [-K checkpt] [-W generator]
       ssh-keygen -s ca_key -I certificate_identity [-h] [-n principals]
                  [-O option] [-V validity_interval] [-z serial_number] file ...
       ssh-keygen -L [-f input_keyfile]
       ssh-keygen -A
       ssh-keygen -k -f krl_file [-u] [-s ca_public] [-z version_number]
                  file ...
       ssh-keygen -Q -f krl_file file ...
[tomcat@develop ~]$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/tomcat/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/tomcat/.ssh/id_rsa.
Your public key has been saved in /home/tomcat/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:Lp68Qh20r1rnsr+IyTTayVl/pbd8VlEL3mWGuez3IYY tomcat@develop
The key&amp;#39;s randomart image is:
+---[RSA 2048]----+
|               o |
|      .      .o =|
|     . .    ..o++|
|      o      .o+ |
|     . oS   ..  .|
|    . ...  E.o..o|
|   .o +.o  o. .oo|
|   *.@oB  o.. o .|
|  . XoB==o .o+   |
+----[SHA256]-----+
[tomcat@develop ~]$
[tomcat@develop ~]$ ls -al /home/tomcat/.ssh
합계 8
drwx------  2 tomcat ap   38  9월 13 11:51 .
drwx------. 5 tomcat ap  152  9월 13 11:48 ..
-rw-------  1 tomcat ap 1766  9월 13 11:51 id_rsa
-rw-r--r--  1 tomcat ap  396  9월 13 11:51 id_rsa.pub
[tomcat@develop ~]$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>System: oracle12c</title>
      <link>/system/oracle12c/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/system/oracle12c/</guid>
      <description>
        
        
        &lt;h4 id=&#34;sysctl-설정&#34;&gt;sysctl 설정&lt;/h4&gt;
&lt;p&gt;파일: /etc/sysctl.conf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;fs.aio-max-nr &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1048576&lt;/span&gt;
fs.file-max &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;6815744&lt;/span&gt;
kernel.shmall &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2097152&lt;/span&gt;
kernel.shmmax &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4056393728&lt;/span&gt;
kernel.shmmni &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4096&lt;/span&gt;
kernel.sem &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;250&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;32000&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;100&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;128&lt;/span&gt;
net.ipv4.ip_local_port_range &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;9000&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;65500&lt;/span&gt;
net.core.rmem_default &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;262144&lt;/span&gt;
net.core.rmem_max &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4194304&lt;/span&gt;
net.core.wmem_default &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;262144&lt;/span&gt;
net.core.wmem_max &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1048586&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;반영: &lt;code&gt;sysctl -p&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;확인: &lt;code&gt;sysctl -a&lt;/code&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h4 id=&#34;limits-설정&#34;&gt;limits 설정&lt;/h4&gt;
&lt;p&gt;/etc/security/limits.conf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;oracle soft nproc &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2047&lt;/span&gt;
oracle hard nproc &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;16384&lt;/span&gt;
oracle soft nofile &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1024&lt;/span&gt;
oracle hard nofile &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;65536&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;시스템-계정&#34;&gt;시스템 계정&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;groupadd oinstall
groupadd dba
useradd -g oinstall -G dba oracle
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;설치-디렉토리&#34;&gt;설치 디렉토리&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;mkdir -p /prod/oracle12/app
mkdir -p /prod/oracle12/oraInventory
chown -R oracle:oinstall /prod/oracle12/app
chown -R oracle:oinstall /prod/oracle12/oraInventory
chmod -R &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;775&lt;/span&gt; /prod/oracle12/app
chmod -R &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;775&lt;/span&gt; /prod/oracle12/oraInventory
chmod g+s /prod/oracle12/app
chmod g+s /prod/oracle12/oraInventory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;시스템-변수&#34;&gt;시스템 변수&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;TMPDIR&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$TMP&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ORACLE_BASE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/prod/oracle12/app/
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ORACLE_HOME&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_BASE&lt;/span&gt;/product/12.2.0/dbhome_1
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ORACLE_HOME_LISTNER&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_HOME&lt;/span&gt;/bin/lsnrctl
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ORACLE_SID&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;orcl
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/lib:/usr/lib:/usr/lib64:&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_HOME&lt;/span&gt;/lib
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;CLASSPATH&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_HOME&lt;/span&gt;/jlib:&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_HOME&lt;/span&gt;/rdbms/jlib
&lt;span style=&#34;color:#204a87&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;PATH&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_HOME&lt;/span&gt;/bin:&lt;span style=&#34;color:#000&#34;&gt;$PATH&lt;/span&gt;:&lt;span style=&#34;color:#000&#34;&gt;$HOME&lt;/span&gt;/.local/bin:&lt;span style=&#34;color:#000&#34;&gt;$HOME&lt;/span&gt;/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;gui-패키지-설치&#34;&gt;gui 패키지 설치&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ yum grouplist
사용 가능한 환경 그룹 :
   서버 - GUI 사용
   최소 설치
   워크스테이션
   가상화 호스트
   사용자 정의 운영 체제
$ yum groupinstall &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;서버 - GUI 사용&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;설치 후 runlevel 변경: &lt;code&gt;$ systemctl set-default graphical.target&lt;/code&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h4 id=&#34;oracle12c-ee-설치&#34;&gt;oracle12c-ee 설치&lt;/h4&gt;
&lt;p&gt;gui 환경으로 booting 후 oracle 계정으로 로그인하고 &lt;code&gt;runInstaller&lt;/code&gt; 실행&lt;/p&gt;
&lt;p&gt;설치 파일: &lt;code&gt;oracle-ee_12102_linux_x64_1of2.zip&lt;/code&gt;, &lt;code&gt;oracle-ee_12102_linux_x64_2of2.zip&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;install
response
rpm
runInstaller
sshsetup
stage
welcome.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;systemctl-등록&#34;&gt;systemctl 등록&lt;/h4&gt;
&lt;p&gt;systemctl 환경변수 파일: /etc/sysconfig/ora12c.env&lt;/p&gt;
&lt;p&gt;소유자(oracle) 설정: &lt;code&gt;chown oracle:db /etc/sysconfig/ora12c.env&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;ORACLE_BASE&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;/prod/oracle12/app
&lt;span style=&#34;color:#000&#34;&gt;ORACLE_HOME&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$ORACLE_BASE&lt;/span&gt;/product/12.2.0/dbhome_1
&lt;span style=&#34;color:#000&#34;&gt;ORACLE_SID&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;ora12c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;각종-오류&#34;&gt;각종 오류&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ORA-01102: cannot mount database in EXCLUSIVE mode&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;cat &lt;span style=&#34;color:#000&#34;&gt;$ORACLE_BASE&lt;/span&gt;/admin/ora12c/pfile/init.ora.1028202115570
cp &lt;span style=&#34;color:#000&#34;&gt;$ORACLE_BASE&lt;/span&gt;/admin/ora12c/pfile/init.ora.1028202115570 &lt;span style=&#34;color:#000&#34;&gt;$ORACLE_HOME&lt;/span&gt;/dbs/initora12c.ora
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ORA-01033: ORACLE initialization or shutdown in progress&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pluggable&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;database&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pdborcl&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;open&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;read&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;write&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;p&gt;systemctl service 파일 생성&lt;/p&gt;
&lt;p&gt;service 파일에는 환경변수 파일을 적용할 것&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ora12c@lsnrctl.service&lt;/code&gt;, &lt;code&gt;ora12c@dbms.service&lt;/code&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h4 id=&#34;oratab-파일&#34;&gt;oratab 파일&lt;/h4&gt;
&lt;p&gt;파일: /etc/oratab&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;ora12c:/prod/oracle12/app/product/12.2.0/dbhome_1:Y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;소유자(oracle) 설정: &lt;code&gt;chown oracle:db /etc/oratab&lt;/code&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h4 id=&#34;max_string_size--extended&#34;&gt;max_string_size = EXTENDED&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;startup&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;mount&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;database&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;open&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;migrate&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;select&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;con_id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;open_mode&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;v$pdbs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;session&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;container&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;PDB$SEED&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;system&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;max_string_size&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;extended&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;scope&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;spfile&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;@?/&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;rdbms&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;admin&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;utl32k&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;sql&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;session&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;container&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPADBP&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pluggable&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;database&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPADBP&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;open&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;upgrade&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;system&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;max_string_size&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;extended&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;scope&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;spfile&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;@?/&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;rdbms&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;admin&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;utl32k&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;sql&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;@?/&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;rdbms&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;admin&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;utlrp&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;sql&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pluggable&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;database&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPADBP&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;close&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;immediate&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;pdb-자동-시작&#34;&gt;PDB 자동 시작&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;select&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;con_id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;open_mode&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;v$pdbs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;OR&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;REPLACE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TRIGGER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;open_pdbs&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; 
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;AFTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;STARTUP&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ON&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;DATABASE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; 
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;BEGIN&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; 
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;EXECUTE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;IMMEDIATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;ALTER PLUGGABLE DATABASE ALL OPEN&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; 
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;END&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;open_pdbs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;commit&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;oracle-계정-생성&#34;&gt;oracle 계정 생성&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;alter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;session&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;_oracle_script&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TABLESPACE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TS_DATA01&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;DATAFILE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;/data/DB/oradata/ora12c/SPADBP/TS_DATA01.dbf&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SIZE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;G&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;AUTOEXTEND&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ON&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;NEXT&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;USER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPADBA&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;IDENTIFIED&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;DEFAULT&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TABLESPACE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TS_DATA01&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;USER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPAAPP&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;IDENTIFIED&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPAAPP1234&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;DEFAULT&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TABLESPACE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TS_DATA01&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ALTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;USER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPADBA&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;QUOTA&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;UNLIMITED&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ON&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;TS_DATA01&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;GRANT&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CONNECT&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;RESOURCE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;VIEW&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;EXP_FULL_DATABASE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;IMP_FULL_DATABASE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;DBA&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TO&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPADBA&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ROLE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;RL_SPA_APP&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;GRANT&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;CONNECT&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;RESOURCE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TO&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;RL_SPA_APP&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;GRANT&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;RL_SPA_APP&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TO&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SPAAPP&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;oracle-impexp&#34;&gt;oracle imp/exp&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;exp.exe SPADBA/1@SPADBP FILE=&amp;#39;Z:\SPADBP.dmp&amp;#39; GRANTS=Y INDEXES=Y ROWS=Y CONSTRAINTS=Y TRIGGERS=N COMPRESS=Y DIRECT=N CONSISTENT=N OWNER=(SPADBA)
imp.exe SPADBA/1@SPADBP FILE=&amp;#39;Z:\SPADBP.dmp&amp;#39; FEEDBACK=1000 GRANTS=Y INDEXES=Y ROWS=Y CONSTRAINTS=Y IGNORE=N SHOW=N DESTROY=N ANALYZE=Y SKIP_UNUSABLE_INDEXES=N RECALCULATE_STATISTICS=N FROMUSER=SPADBA TOUSER=SPADBA
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;
&lt;h4 id=&#34;drop-table-문&#34;&gt;drop table 문&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;select&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;drop table &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;table_name&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39; cascade constraints;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;user_tables&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;oracle-character-set-설정&#34;&gt;oracle character-set 설정&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;select&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;nls_database_parameters&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;where&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;parameter&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;like&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;%NLS_CHARACTERSET%&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;NLS_CHARACTERSET  WE8MSWIN1252
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;**/&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;NLS_CHARACTERSET  AL32UTF8
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;*/&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SHUTDOWN&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;IMMEDIATE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;STARTUP&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;MOUNT&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ALTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SYSTEM&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ENABLE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;RESTRICTED&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SESSION&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ALTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SYSTEM&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;JOB_QUEUE_PROCESSES&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ALTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SYSTEM&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;AQ_TM_PROCESSES&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ALTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;DATABASE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;OPEN&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ALTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;DATABASE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;CHARACTER&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;INTERNAL_USE&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;AL32UTF8&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SHUTDOWN&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;IMMEDIATE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;STARTUP&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;

      </description>
    </item>
    
  </channel>
</rss>
